/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["course.geo.Engine"]){dojo._hasResource["course.geo.Engine"]=true;dojo.provide("course.geo.Engine");dojo.declare("course.geo.Engine",null,{type:"gfx",factories:null,initialized:false,canRenderModels:false,constructor:function(_1){dojo.mixin(this,_1);this.baseModule=this.declaredClass.substring(0,this.declaredClass.lastIndexOf("."));this.factories={};},initialize:function(_2){},isInitialized:function(){return this.initialized;},createContainer:function(_3,_4){},appendChild:function(_5,_6){},prepare:function(){},getFactory:function(_7){if(!this.factories[_7]){var _8=dojo.require;var _9=_7.lastIndexOf("."),_a=_9>=0?_7.substring(_9+1):_7;_a=this.baseModule+"."+_a;_8(_a,true);var _b=dojo.getObject(_a);if(_b){this.factories[_7]=new (_b)({engine:this});}else{if(_9>0){_a=this.baseModule+"."+_7;_8(_a,true);var _b=dojo.getObject(_a);if(_b){this.factories[_7]=new (_b)({engine:this});}}}}return this.factories[_7];},getTopContainer:function(){},connect:function(_c,_d,_e,_f){},patchMethods:function(){}});}if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;var _10={};m._degToRad=function(_11){return _10[_11]||(_10[_11]=(Math.PI*_11/180));};m._radToDeg=function(_12){return _12/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _13=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_13,r=dojox.gfx.matrix.normalize(arg[i]);_13=new m.Matrix2D();_13.xx=l.xx*r.xx+l.xy*r.yx;_13.xy=l.xx*r.xy+l.xy*r.yy;_13.yx=l.yx*r.xx+l.yy*r.yx;_13.yy=l.yx*r.xy+l.yy*r.yy;_13.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_13.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_13);}}else{dojo.mixin(this,arg);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_14){var c=Math.cos(_14);var s=Math.sin(_14);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_15){return m.rotate(m._degToRad(_15));},skewX:function(_16){return new m.Matrix2D({xy:Math.tan(_16)});},skewXg:function(_17){return m.skewX(m._degToRad(_17));},skewY:function(_18){return new m.Matrix2D({yx:Math.tan(_18)});},skewYg:function(_19){return m.skewY(m._degToRad(_19));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_1a){return (_1a instanceof m.Matrix2D)?_1a:new m.Matrix2D(_1a);},clone:function(_1b){var obj=new m.Matrix2D();for(var i in _1b){if(typeof (_1b[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_1b[i]){obj[i]=_1b[i];}}return obj;},invert:function(_1c){var M=m.normalize(_1c),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_1d,x,y){return {x:_1d.xx*x+_1d.xy*y+_1d.dx,y:_1d.yx*x+_1d.yy*y+_1d.dy};},multiplyPoint:function(_1e,a,b){var M=m.normalize(_1e);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_1f){var M=m.normalize(_1f);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_20,x,y){return m.multiply(m.translate(x,y),_20,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_21,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_21),a,b);}return m._sandwich(m.rotate(_21),a.x,a.y);},rotategAt:function(_22,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_22),a,b);}return m._sandwich(m.rotateg(_22),a.x,a.y);},skewXAt:function(_23,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_23),a,b);}return m._sandwich(m.skewX(_23),a.x,a.y);},skewXgAt:function(_24,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_24),a,b);}return m._sandwich(m.skewXg(_24),a.x,a.y);},skewYAt:function(_25,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_25),a,b);}return m._sandwich(m.skewY(_25),a.x,a.y);},skewYgAt:function(_26,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_26),a,b);}return m._sandwich(m.skewYg(_26),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(_27,_28){var cls=_27.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_28+" ")>=0;};g._addClass=function(_29,_2a){var cls=_29.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_2a+" ")<0){_29.setAttribute("className",cls+(cls?" ":"")+_2a);}};g._removeClass=function(_2b,_2c){var cls=_2b.getAttribute("className");if(cls){_2b.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_2c+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _2d={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},dojo.body());for(var p in _2d){div.style.fontSize=p;_2d[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);return _2d;};var _2e=null;b._getCachedFontMeasurements=function(_2f){if(_2f||!_2e){_2e=b._getFontMeasurements();}return _2e;};var _30=null,_31={};b._getTextBox=function(_32,_33,_34){var m,s,al=arguments.length;if(!_30){_30=dojo.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},dojo.body());}m=_30;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_33){for(var i in _33){if(i in _31){continue;}s[i]=_33[i];}}if(al>2&&_34){m.className=_34;}m.innerHTML=_32;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return dojo.marginBox(m);}};var _35=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_35);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _36={};return function(_37){var t=_36[_37];if(t){return new t();}t=_36[_37]=new Function;t.prototype=dojox.gfx["default"+_37];return new t();};})(),normalizeColor:function(_38){return (_38 instanceof dojo.Color)?_38:new dojo.Color(_38);},normalizeParameters:function(_39,_3a){if(_3a){var _3b={};for(var x in _39){if(x in _3a&&!(x in _3b)){_39[x]=_3a[x];}}}return _39;},makeParameters:function(_3c,_3d){if(!_3d){return dojo.delegate(_3c);}var _3e={};for(var i in _3c){if(!(i in _3e)){_3e[i]=dojo.clone((i in _3d)?_3d[i]:_3c[i]);}}return _3e;},formatNumber:function(x,_3f){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _40=val.indexOf(".");if(_40>=0&&val.length-_40>5){val=x.toFixed(4);}}if(x<0){return val;}return _3f?" "+val:val;},makeFontString:function(_41){return _41.style+" "+_41.variant+" "+_41.weight+" "+_41.size+" "+_41.family;},splitFontString:function(str){var _42=dojox.gfx.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}_42.style=t[0];_42.variant=t[1];_42.weight=t[2];var i=t[3].indexOf("/");_42.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){_42.family=t.slice(j).join(" ");}}while(false);return _42;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _43=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_43;case "in":return val*72*_43;case "pc":return val*12*_43;case "mm":return val*dojox.gfx.mm_in_pt*_43;case "cm":return val*dojox.gfx.cm_in_pt*_43;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;},switchTo:function(_44){var ns=dojox.gfx[_44];if(ns){dojo.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(_45){dojox.gfx[_45]=ns[_45];});}}});}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,_46,_47;while(!gfx.renderer){if(dojo.config.forceGfxRenderer){dojox.gfx.renderer=dojo.config.forceGfxRenderer;break;}var _48=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var i=0;i<_48.length;++i){switch(_48[i]){case "svg":if("SVGAngle" in dojo.global){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){_46=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_46=true;}}}catch(e){_46=false;}finally{sl=null;}if(_46){dojox.gfx.renderer="silverlight";}break;case "canvas":if(dojo.global.CanvasRenderingContext2D){dojox.gfx.renderer="canvas";}break;}if(gfx.renderer){break;}}break;}if(dojox.gfx.renderer==="canvas"&&dojo.config.canvasEvent!==false){dojox.gfx.renderer="canvasWithEvents";}if(dojo.config.isDebug){console.log("gfx renderer = "+gfx.renderer);}if(gfx[gfx.renderer]){gfx.switchTo(gfx.renderer);}else{gfx.loadAndSwitch=gfx.renderer;dojo["require"]("dojox.gfx."+gfx.renderer);}});}if(!dojo._hasResource["dojox.gfx.Mover"]){dojo._hasResource["dojox.gfx.Mover"]=true;dojo.provide("dojox.gfx.Mover");dojo.declare("dojox.gfx.Mover",null,{constructor:function(_49,e,_4a){this.shape=_49;this.lastX=e.clientX;this.lastY=e.clientY;var h=this.host=_4a,d=document,_4b=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"destroy"),dojo.connect(d,"ondragstart",dojo,"stopEvent"),dojo.connect(d,"onselectstart",dojo,"stopEvent"),_4b];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){var x=e.clientX;var y=e.clientY;this.host.onMove(this,{dx:x-this.lastX,dy:y-this.lastY});this.lastX=x;this.lastY=y;dojo.stopEvent(e);},onFirstMove:function(){this.host.onFirstMove(this);dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.shape=null;}});}if(!dojo._hasResource["dojox.gfx.Moveable"]){dojo._hasResource["dojox.gfx.Moveable"]=true;dojo.provide("dojox.gfx.Moveable");dojo.declare("dojox.gfx.Moveable",null,{constructor:function(_4c,_4d){this.shape=_4c;this.delay=(_4d&&_4d.delay>0)?_4d.delay:0;this.mover=(_4d&&_4d.mover)?_4d.mover:dojox.gfx.Mover;this.events=[this.shape.connect("onmousedown",this,"onMouseDown")];},destroy:function(){dojo.forEach(this.events,this.shape.disconnect,this.shape);this.events=this.shape=null;},onMouseDown:function(e){if(this.delay){this.events.push(this.shape.connect("onmousemove",this,"onMouseMove"),this.shape.connect("onmouseup",this,"onMouseUp"));this._lastX=e.clientX;this._lastY=e.clientY;}else{new this.mover(this.shape,e,this);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.clientX-this._lastX)>this.delay||Math.abs(e.clientY-this._lastY)>this.delay){this.onMouseUp(e);new this.mover(this.shape,e,this);}dojo.stopEvent(e);},onMouseUp:function(e){this.shape.disconnect(this.events.pop());this.shape.disconnect(this.events.pop());},onMoveStart:function(_4e){dojo.publish("/gfx/move/start",[_4e]);dojo.addClass(dojo.body(),"dojoMove");},onMoveStop:function(_4f){dojo.publish("/gfx/move/stop",[_4f]);dojo.removeClass(dojo.body(),"dojoMove");},onFirstMove:function(_50){},onMove:function(_51,_52){this.onMoving(_51,_52);this.shape.applyLeftTransform(_52);this.onMoved(_51,_52);},onMoving:function(_53,_54){},onMoved:function(_55,_56){}});}if(!dojo._hasResource["dojox.gfx.move"]){dojo._hasResource["dojox.gfx.move"]=true;dojo.provide("dojox.gfx.move");}if(!dojo._hasResource["course.geo.common.Placemark"]){dojo._hasResource["course.geo.common.Placemark"]=true;dojo.provide("course.geo.common.Placemark");(function(){dojo.declare("course.geo.common.Placemark",null,{getStyleType:function(_57){var _58="point";if(_57.type=="Polygon"||_57.type=="MultiPolygon"){_58="polygon";}else{if(_57.type=="LineString"||_57.type=="MultiLineString"){_58="line";}}return _58;},createShape:function(_59,_5a){var _5b,_5c=_5a.coordinates;switch(_5a.type){case "Point":_5b=this.makePoint(_59,_5c);break;case "LineString":_5b=this.makeLineString(_59,_5c);break;case "Polygon":_5b=this.makePolygon(_59,_5c);break;case "MultiPolygon":_5b=this.makeMultiPolygon(_59,_5c);break;case "MultiLineString":_5b=this.makeMultiLineString(_59,_5c);break;case "MultiPoint":_5b=this.makeMultiPoint(_59,_5c);break;}return _5b;}});var pl=course.geo.common.Placemark;pl.get=function(_5d,_5e,_5f){return _5f&&_5f[_5d]?_5f[_5d]:_5e[_5d];};pl.getPointType=function(_60){var _61;if(_60.type){_61=_60.type;}else{if(_60.shape){_61="shape";}else{if(_60.src){_61="image";}}}return _61;};}());}if(!dojo._hasResource["course.geo.gfx.Placemark"]){dojo._hasResource["course.geo.gfx.Placemark"]=true;dojo.provide("course.geo.gfx.Placemark");(function(){var g=course.geo,cp=g.common.Placemark,s=course.geo.styling;dojo.declare("course.geo.gfx.Placemark",course.geo.common.Placemark,{multipleSymbolizers:true,constructor:function(_62){dojo.mixin(this,_62);this.polygons=this.group.createGroup();this.lines=this.group.createGroup();this.points=this.group.createGroup();},prepare:function(){this.calculateLengthDenominator();},calculateLengthDenominator:function(){this.lengthDenominator=(this.group.getTransform()||{xx:1}).xx;},moveTo:function(_63,_64){_63.moveTo(this.getX(_64[0]),this.getY(_64[1]));},lineTo:function(_65,_66){_65.lineTo(this.getX(_66[0]),this.getY(_66[1]));},getX:function(x){return x-this.map.extent[0];},getY:function(y){return this.map.extent[3]-y;},makePoint:function(_67,_68){return null;},makeLineString:function(_69,_6a,_6b){if(!_6b){_6b=this.lines.createPath();}this.moveTo(_6b,_6a[0]);for(var i=1;i<_6a.length;i++){this.lineTo(_6b,_6a[i]);}return _6b;},makePolygon:function(_6c,_6d,_6e){if(!_6e){_6e=this.polygons.createPath();}dojo.forEach(_6d,function(_6f){this.moveTo(_6e,_6f[0]);for(var i=1;i<_6f.length;i++){this.lineTo(_6e,_6f[i]);}},this);return _6e;},makeMultiLineString:function(_70,_71){var _72=this.lines.createPath();dojo.forEach(_71,function(_73){this.makeLineString(_70,_73,_72);},this);return _72;},makeMultiPolygon:function(_74,_75){var _76=this.polygons.createPath();dojo.forEach(_75,function(_77){this.makePolygon(_74,_77,_76);},this);return _76;},applyPointStyle:function(_78,_79,_7a){var _7b=_79.coordinates,_7c=_7a["point"];var _7d={};for(var _7e in _78.handles){_7d[_7e]=_78.handles[_7e];_78.disconnect(_7e);}if(_78.baseShapes.length){for(var i=_78.baseShapes.length-1;i>=0;i--){_78.baseShapes.pop().removeShape();}}if(_7c){dojo.forEach(_7c,function(_7f){var _80=this._createPointShape(_7b,_7a,_7f);if(_80){_78.baseShapes.push(_80);}},this);}else{var _81=this._createPointShape(_7b,_7a,null);if(_81){_78.baseShapes.push(_81);}}for(var _7e in _7d){var _82=_7d[_7e],_83=_82[0],_84=_82[1],_85=_82[2];_78.connectWithHandle(_7e,_83,_84,_85);}},_createPointShape:function(_86,_87,_88){var _89,_8a=cp.get("shape",_87,_88),src=cp.get("src",_87,_88),_8b,_8c,_8d=cp.get("scale",_87,_88),_8e=[dojox.gfx.matrix.translate(this.getX(_86[0]),this.getY(_86[1]))];shape=null;if(_88){_8b=_88.width?_88.width:_88.size;_8c=_88.height?_88.height:_88.size;_89=cp.getPointType(_88);}else{_89=cp.getPointType(_87);}if(!_8b){_8b=_87.width?_87.width:_87.size;}if(!_8c){_8c=_87.height?_87.height:_87.size;}if(!_8d){_8d=1;}if(_89=="shape"&&_8f[_8a]){var _90=_8f[_8a],_91=_8a=="circle"?2:_90.size,_92=_8d/this.lengthDenominator/_91;_8e.push(dojox.gfx.matrix.scale(_92*_8b,_92*_8c));if(_8a=="circle"){shape=this.points.createCircle({cx:0,cy:0,r:1});}else{shape=this.points.createPolyline(_90.points);}_93(shape,_87,_88);_94(shape,_87,_88,_91/_8c/_8d);}else{if(_89=="image"&&src){var _95={type:"image",src:src,width:_8b,height:_8c,x:(_88&&_88.x!==undefined)?_88.x:-_8b/2,y:(_88&&_88.y!==undefined)?_88.y:-_8c/2};shape=this.points.createImage(_95);_8e.push(dojox.gfx.matrix.scale(1/this.lengthDenominator*_8d));}}if(shape){shape.setTransform(_8e);}return shape;},applyLineStyle:function(_96,_97,_98){var _99=_98["line"],_9a=_96.baseShapes;this._updateShapes(_96,_97,_98,_99);if(_99){dojo.forEach(_99,function(_9b,i){this._applyLineStyle(_9a[i],_98,_9b);},this);}else{this._applyLineStyle(_9a[0],_98,null);}},_applyLineStyle:function(_9c,_9d,_9e){_94(_9c,_9d,_9e,1/this.lengthDenominator);},applyPolygonStyle:function(_9f,_a0,_a1){var _a2=_a1["polygon"],_a3=_9f.baseShapes;this._updateShapes(_9f,_a0,_a1,_a2);if(_a2){dojo.forEach(_a2,function(_a4,i){this._applyPolygonStyle(_a3[i],_a1,_a4);},this);}else{this._applyPolygonStyle(_a3[0],_a1,null);}},_applyPolygonStyle:function(_a5,_a6,_a7){_93(_a5,_a6,_a7);_94(_a5,_a6,_a7,1/this.lengthDenominator);},_updateShapes:function(_a8,_a9,_aa,_ab){var _ac=_a8.baseShapes,_ad=_a8.handles,_ae=_ab?_ab.length:1,_af=_ac.length;if(_ae>_af){var _b0=_a9.coordinates;for(var i=_af;i<_ae;i++){var _b1=this.createShape(_a8,_a9);for(var _b2 in _ad){var _b3=_ad[_b2][0],_b4=_ad[_b2][1],_b5=_ad[_b2][2],_b6=_ad[_b2][3];dojo.forEach(_b3,function(_b7,_b8){_b6[_b8].push([_b1,_b1.connect(_b7,g.util.normalizeCallback(_a8,_b7,_b4,_b5))]);});}_ac.push(_b1);}}else{if(_ae<_af){for(var i=_af-1;i>=_ae;i--){var _b1=_ac.pop();_b1.removeShape();for(var _b2 in _ad){var _b3=_ad[_b2][0],_b6=_ad[_b2][3];dojo.forEach(_b3,function(_b9,_ba){_b1.disconnect(_b6[_ba].pop()[1]);});}}}}},remove:function(_bb){dojo.forEach(_bb.baseShapes,function(_bc){_bc.removeShape();});}});var _93=function(_bd,_be,_bf){var _c0=cp.get("fill",_be,_bf);if(_c0){_bd.setFill(_c0);}};var _94=function(_c1,_c2,_c3,_c4){if(dojox.gfx.renderer=="vml"){_c4=1;}var _c5=cp.get("stroke",_c2,_c3);var _c6=cp.get("strokeWidth",_c2,_c3);if(_c6!==undefined||_c5){var _c7=null;if(_c6!=0){var _c8=_c1.getStroke();_c7=_c8?_c8:{};if(_c6){_c7.width=_c6*_c4;}if(_c5){_c7.color=_c5;}}_c1.setStroke(_c7);}};var _8f={circle:1,star:{size:1000,points:[0,-476,118,-112,500,-112,191,112,309,476,0,251,-309,476,-191,112,-500,-112,-118,-112,0,-476]},cross:{size:10,points:[-1,-5,1,-5,1,-1,5,-1,5,1,1,1,1,5,-1,5,-1,1,-5,1,-5,-1,-1,-1,-1,-5]},x:{size:100,points:[-50,-50,-25,-50,0,-15,25,-50,50,-50,15,0,50,50,25,50,0,15,-25,50,-50,50,-15,0,-50,-50]},square:{size:2,points:[-1,-1,-1,1,1,1,1,-1,-1,-1]},triangle:{size:10,points:[-5,5,5,5,0,-5,-5,5]}};}());}if(!dojo._hasResource["course.geo.gfx.Engine"]){dojo._hasResource["course.geo.gfx.Engine"]=true;dojo.provide("course.geo.gfx.Engine");(function(){dojo.declare("course.geo.gfx.Engine",course.geo.Engine,{type:"gfx",initialize:function(_c9){this.surface=dojox.gfx.createSurface(this.map.container,this.map.width,this.map.height);this.group=this.surface.createGroup();this.factories["Placemark"]=new course.geo.gfx.Placemark({group:this.group,map:this.map});this.initialized=true;_c9();},createContainer:function(_ca,_cb){return _ca.createGroup();},prepare:function(){var _cc=this.map.extent;var _cd=_cc[2]-_cc[0];var _ce=_cc[3]-_cc[1];var _cf=Math.min(this.map.width/_cd,this.map.height/_ce);this.group.setTransform([dojox.gfx.matrix.scale(_cf)]);this.factories.Placemark.prepare();},getTopContainer:function(){return this.group;},connect:function(_d0,_d1,_d2){var _d3=[];dojo.forEach(_d0.baseShapes,function(_d4){_d3.push([_d4,_d4.connect(_d1,_d2)]);});return _d3;},disconnect:function(_d5){dojo.forEach(_d5,function(_d6){_d6[0].disconnect(_d6[1]);});},destroy:function(){this.surface.destroy();}});}());}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _d7=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _d8=dojo._docScroll();return {w:_d7.clientWidth,h:_d7.clientHeight,l:_d8.x,t:_d8.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(_d9,pos){try{_d9=dojo.byId(_d9);var doc=_d9.ownerDocument||dojo.doc,_da=doc.body||dojo.body(),_db=doc.documentElement||_da.parentNode,_dc=dojo.isIE,_dd=dojo.isWebKit;if((!(dojo.isMoz||_dc||_dd||dojo.isOpera)||_d9==_da||_d9==_db)&&(typeof _d9.scrollIntoView!="undefined")){_d9.scrollIntoView(false);return;}var _de=doc.compatMode=="BackCompat",_df=_de?_da:_db,_e0=_dd?_da:_df,_e1=_df.clientWidth,_e2=_df.clientHeight,rtl=!dojo._isBodyLtr(),_e3=pos||dojo.position(_d9),el=_d9.parentNode,_e4=function(el){return ((_dc<=6||(_dc&&_de))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_e4(_d9)){return;}while(el){if(el==_da){el=_e0;}var _e5=dojo.position(el),_e6=_e4(el);if(el==_e0){_e5.w=_e1;_e5.h=_e2;if(_e0==_db&&_dc&&rtl){_e5.x+=_e0.offsetWidth-_e5.w;}if(_e5.x<0||!_dc){_e5.x=0;}if(_e5.y<0||!_dc){_e5.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_e5.w-=pb.w;_e5.h-=pb.h;_e5.x+=pb.l;_e5.y+=pb.t;}if(el!=_e0){var _e7=el.clientWidth,_e8=_e5.w-_e7;if(_e7>0&&_e8>0){_e5.w=_e7;if(_dc&&rtl){_e5.x+=_e8;}}_e7=el.clientHeight;_e8=_e5.h-_e7;if(_e7>0&&_e8>0){_e5.h=_e7;}}if(_e6){if(_e5.y<0){_e5.h+=_e5.y;_e5.y=0;}if(_e5.x<0){_e5.w+=_e5.x;_e5.x=0;}if(_e5.y+_e5.h>_e2){_e5.h=_e2-_e5.y;}if(_e5.x+_e5.w>_e1){_e5.w=_e1-_e5.x;}}var l=_e3.x-_e5.x,t=_e3.y-Math.max(_e5.y,0),r=l+_e3.w-_e5.w,bot=t+_e3.h-_e5.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_e3.x+=el.scrollLeft;el.scrollLeft+=(_dc>=8&&!_de&&rtl)?-s:s;_e3.x-=el.scrollLeft;}if(bot*t>0){_e3.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_e3.y-=el.scrollTop;}el=(el!=_e0)&&!_e6&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_d9.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_e9){if(this._hash[_e9.id]){throw new Error("Tried to register widget with id=="+_e9.id+" but that id is already registered");}this._hash[_e9.id]=_e9;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_ea,_eb){_eb=_eb||dojo.global;var i=0,id;for(id in this._hash){_ea.call(_eb,this._hash[id],i++,this._hash);}return this;},filter:function(_ec,_ed){_ed=_ed||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_ec.call(_ed,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_ee;for(id in this._hash){_ee=this._hash[id];if(_ee.declaredClass==cls){res.add(_ee);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_ef,_f0){return dojo.map(this.toArray(),_ef,_f0);},every:function(_f1,_f2){_f2=_f2||dojo.global;var x=0,i;for(i in this._hash){if(!_f1.call(_f2,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_f3,_f4){_f4=_f4||dojo.global;var x=0,i;for(i in this._hash){if(_f3.call(_f4,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _f5=dijit.registry._hash,_f6=dojo.attr,_f7=dojo.hasAttr,_f8=dojo.style;dijit.byId=function(id){return typeof id=="string"?_f5[id]:id;};var _f9={};dijit.getUniqueId=function(_fa){var id;do{id=_fa+"_"+(_fa in _f9?++_f9[_fa]:_f9[_fa]=0);}while(_f5[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_fb){var _fc=[];function _fd(_fe){for(var _ff=_fe.firstChild;_ff;_ff=_ff.nextSibling){if(_ff.nodeType==1){var _100=_ff.getAttribute("widgetId");if(_100){var _101=_f5[_100];if(_101){_fc.push(_101);}}else{_fd(_ff);}}}};_fd(_fb);return _fc;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_102){if(!_102._destroyed){if(_102.destroyRecursive){_102.destroyRecursive();}else{if(_102.destroy){_102.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(node){return _f5[node.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return _f5[id];}node=node.parentNode;}return null;};var _103=(dijit._isElementShown=function(elem){var s=_f8(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_f6(elem,"type")!="hidden");});dijit.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _f7(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _104=elem.contentDocument;if("designMode" in _104&&_104.designMode=="on"){return true;}body=_104.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true");default:return elem.contentEditable=="true";}};var _105=(dijit.isTabNavigable=function(elem){if(_f6(elem,"disabled")){return false;}else{if(_f7(elem,"tabIndex")){return _f6(elem,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(elem);}}});dijit._getTabNavigable=function(root){var _106,last,_107,_108,_109,_10a,_10b={};function _10c(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _10d=function(_10e){dojo.query("> *",_10e).forEach(function(_10f){if((dojo.isIE&&_10f.scopeName!=="HTML")||!_103(_10f)){return;}if(_105(_10f)){var _110=_f6(_10f,"tabIndex");if(!_f7(_10f,"tabIndex")||_110==0){if(!_106){_106=_10f;}last=_10f;}else{if(_110>0){if(!_107||_110<_108){_108=_110;_107=_10f;}if(!_109||_110>=_10a){_10a=_110;_109=_10f;}}}var rn=_10c(_10f);if(dojo.attr(_10f,"checked")&&rn){_10b[rn]=_10f;}}if(_10f.nodeName.toUpperCase()!="SELECT"){_10d(_10f);}});};if(_103(root)){_10d(root);}function rs(node){return _10b[_10c(node)]||node;};return {first:rs(_106),last:rs(last),lowest:rs(_107),highest:rs(_109)};};dijit.getFirstInTabbingOrder=function(root){var _111=dijit._getTabNavigable(dojo.byId(root));return _111.lowest?_111.lowest:_111.first;};dijit.getLastInTabbingOrder=function(root){var _112=dijit._getTabNavigable(dojo.byId(root));return _112.last?_112.last:_112.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_113){if(_113){dojo.mixin(this,_113);}},get:function(name){return this[name];},set:function(name,_114){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _115=this[name];this[name]=_114;if(this._watchCallbacks){this._watchCallbacks(name,_115,_114);}return this;},watch:function(name,_116){var _117=this._watchCallbacks;if(!_117){var self=this;_117=this._watchCallbacks=function(name,_118,_119,_11a){var _11b=function(_11c){if(_11c){_11c=_11c.slice();for(var i=0,l=_11c.length;i<l;i++){try{_11c[i].call(self,name,_118,_119);}catch(e){console.error(e);}}}};_11b(_117["_"+name]);if(!_11a){_11b(_117["*"]);}};}if(!_116&&typeof name==="function"){_116=name;name="*";}else{name="_"+name;}var _11d=_117[name];if(typeof _11d!=="object"){_11d=_117[name]=[];}_11d.push(_116);return {unwatch:function(){_11d.splice(dojo.indexOf(_11d,_116),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_11e,_11f){this.create(_11e,_11f);},create:function(_120,_121){this.srcNodeRef=dojo.byId(_121);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_120){this.params=_120;dojo._mixin(this,_120);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _122=this.srcNodeRef;if(_122&&_122.parentNode&&this.domNode!==_122){_122.parentNode.replaceChild(this.domNode,_122);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _123=function(attr,_124){if((_124.params&&attr in _124.params)||_124[attr]){_124.set(attr,_124[attr]);}};for(var attr in this.attributeMap){_123(attr,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_123(a,this);}},this);},_getSetterAttributes:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var r=(ctor._setterAttrs=[]),_125,_126=ctor.prototype;for(var _127 in _126){if(dojo.isFunction(_126[_127])&&(_125=_127.match(/^_set([a-zA-Z]*)Attr$/))&&_125[1]){r.push(_125[1].charAt(0).toLowerCase()+_125[1].substr(1));}}}return ctor._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _128=this.baseClass.split(" ");if(!this.isLeftToRight()){_128=_128.concat(dojo.map(_128,function(name){return name+"Rtl";}));}dojo.addClass(this.domNode,_128);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_129){this._beingDestroyed=true;this.destroyDescendants(_129);this.destroy(_129);},destroy:function(_12a){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_12b){dfe(_12b,d.disconnect);});dfe(this._subscribes,function(_12c){dun(_12c);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_12a);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_12d){if(this.bgIframe){this.bgIframe.destroy(_12d);delete this.bgIframe;}if(this.domNode){if(_12d){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_12d){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_12e){dojo.forEach(this.getChildren(),function(_12f){if(_12f.destroyRecursive){_12f.destroyRecursive(_12e);}});},uninitialize:function(){return false;},_setClassAttr:function(_130){var _131=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_131,_130,this["class"]);this._set("class",_130);},_setStyleAttr:function(_132){var _133=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_132)){dojo.style(_133,_132);}else{if(_133.style.cssText){_133.style.cssText+="; "+_132;}else{_133.style.cssText=_132;}}this._set("style",_132);},_attrToDom:function(attr,_134){var _135=this.attributeMap[attr];dojo.forEach(dojo.isArray(_135)?_135:[_135],function(_136){var _137=this[_136.node||_136||"domNode"];var type=_136.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_134)){_134=dojo.hitch(this,_134);}var _138=_136.attribute?_136.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_137,_138,_134);break;case "innerText":_137.innerHTML="";_137.appendChild(dojo.doc.createTextNode(_134));break;case "innerHTML":_137.innerHTML=_134;break;case "class":dojo.replaceClass(_137,_134,this[attr]);break;}},this);},get:function(name){var _139=this._getAttrNames(name);return this[_139.g]?this[_139.g]():this[name];},set:function(name,_13a){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _13b=this._getAttrNames(name);if(this[_13b.s]){var _13c=this[_13b.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_13a);}this._set(name,_13a);}return _13c||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_13d){var _13e=this[name];this[name]=_13d;if(this._watchCallbacks&&this._created&&_13d!==_13e){this._watchCallbacks(name,_13e,_13d);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_13f,_140){var _141=[dojo._connect(obj,_13f,this,_140)];this._connects.push(_141);return _141;},disconnect:function(_142){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_142){dojo.forEach(_142,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_143,_144){var _145=dojo.subscribe(_143,this,_144);this._subscribes.push(_145);return _145;},unsubscribe:function(_146){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_146){dojo.unsubscribe(_146);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_147,_148){if(_147.declaredClass&&_147.addChild){_147.addChild(this,_148);}else{dojo.place(this.domNode,_147,_148);}return this;}});})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_149){var _14a=dojo.doc,mark=_149.mark;if(mark){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var r=mark;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_14a.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(dojo.isArray(mark)){rg=_14a.body.createControlRange();dojo.forEach(mark,function(n){rg.addElement(n);});}else{rg=_14a.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_14b){var node=!dijit._curFocus||(menu&&dojo.isDescendant(dijit._curFocus,menu.domNode))?dijit._prevFocus:dijit._curFocus;return {node:node,bookmark:(node==dijit._curFocus)&&dojo.withGlobal(_14b||dojo.global,dijit.getBookmark),openedForWindow:_14b};},focus:function(_14c){if(!_14c){return;}var node="node" in _14c?_14c.node:_14c,_14d=_14c.bookmark,_14e=_14c.openedForWindow,_14f=_14d?_14d.isCollapsed:false;if(node){var _150=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_150&&_150.focus){try{_150.focus();}catch(e){}}dijit._onFocusNode(node);}if(_14d&&dojo.withGlobal(_14e||dojo.global,dijit.isCollapsed)&&!_14f){if(_14e){_14e.focus();}try{dojo.withGlobal(_14e||dojo.global,dijit.moveToBookmark,null,[_14d]);}catch(e2){}}},_activeStack:[],registerIframe:function(_151){return dijit.registerWin(_151.contentWindow,_151);},unregisterIframe:function(_152){dijit.unregisterWin(_152);},registerWin:function(_153,_154){var _155=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_154||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_153.document.documentElement:_153.document;if(doc){if(dojo.isIE){_153.document.body.attachEvent("onmousedown",_155);var _156=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_154||evt.srcElement);}else{dijit._onTouchNode(_154||evt.srcElement);}};doc.attachEvent("onactivate",_156);var _157=function(evt){dijit._onBlurNode(_154||evt.srcElement);};doc.attachEvent("ondeactivate",_157);return function(){_153.document.detachEvent("onmousedown",_155);doc.detachEvent("onactivate",_156);doc.detachEvent("ondeactivate",_157);doc=null;};}else{doc.body.addEventListener("mousedown",_155,true);var _158=function(evt){dijit._onFocusNode(_154||evt.target);};doc.addEventListener("focus",_158,true);var _159=function(evt){dijit._onBlurNode(_154||evt.target);};doc.addEventListener("blur",_159,true);return function(){doc.body.removeEventListener("mousedown",_155,true);doc.removeEventListener("focus",_158,true);doc.removeEventListener("blur",_159,true);doc=null;};}}},unregisterWin:function(_15a){_15a&&_15a();},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _15b=[];try{while(node){var _15c=dojo.attr(node,"dijitPopupParent");if(_15c){node=dijit.byId(_15c).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dojo.window.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_15d=id&&dijit.byId(id);if(_15d&&!(by=="mouse"&&_15d.get("disabled"))){_15b.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_15b,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_15e,by){var _15f=dijit._activeStack;dijit._activeStack=_15e;for(var _160=0;_160<Math.min(_15f.length,_15e.length);_160++){if(_15f[_160]!=_15e[_160]){break;}}var _161;for(var i=_15f.length-1;i>=_160;i--){_161=dijit.byId(_15f[i]);if(_161){_161._focused=false;_161.set("focused",false);_161._hasBeenBlurred=true;if(_161._onBlur){_161._onBlur(by);}dojo.publish("widgetBlur",[_161,by]);}}for(i=_160;i<_15e.length;i++){_161=dijit.byId(_15e[i]);if(_161){_161._focused=true;_161.set("focused",true);if(_161._onFocus){_161._onFocus(by);}dojo.publish("widgetFocus",[_161,by]);}}}});dojo.addOnLoad(function(){var _162=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_162);_162=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_163){this.pairs=[];this.returnWrappers=_163||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_164,wrap,_165,_166){this.pairs[((_166)?"unshift":"push")]([name,_164,wrap,_165]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(node,pos,_167,_168){var _169=dojo.map(_167,function(_16a){var c={corner:_16a,pos:{x:pos.x,y:pos.y}};if(_168){c.pos.x+=_16a.charAt(1)=="L"?_168.x:-_168.x;c.pos.y+=_16a.charAt(0)=="T"?_168.y:-_168.y;}return c;});return dijit._place(node,_169);};dijit._place=function(node,_16b,_16c,_16d){var view=dojo.window.getBox();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_16b,function(_16e){var _16f=_16e.corner;var pos=_16e.pos;var _170=0;var _171={w:_16f.charAt(1)=="L"?(view.l+view.w)-pos.x:pos.x-view.l,h:_16f.charAt(1)=="T"?(view.t+view.h)-pos.y:pos.y-view.t};if(_16c){var res=_16c(node,_16e.aroundCorner,_16f,_171,_16d);_170=typeof res=="undefined"?0:res;}var _172=node.style;var _173=_172.display;var _174=_172.visibility;_172.visibility="hidden";_172.display="";var mb=dojo.marginBox(node);_172.display=_173;_172.visibility=_174;var _175=Math.max(view.l,_16f.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_176=Math.max(view.t,_16f.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_16f.charAt(1)=="L"?(_175+mb.w):pos.x),endY=Math.min(view.t+view.h,_16f.charAt(0)=="T"?(_176+mb.h):pos.y),_177=endX-_175,_178=endY-_176;_170+=(mb.w-_177)+(mb.h-_178);if(best==null||_170<best.overflow){best={corner:_16f,aroundCorner:_16e.aroundCorner,x:_175,y:_176,w:_177,h:_178,overflow:_170,spaceAvailable:_171};}return !_170;});if(best.overflow&&_16c){_16c(node,best.aroundCorner,best.corner,best.spaceAvailable,_16d);}var l=dojo._isBodyLtr(),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";return best;};dijit.placeOnScreenAroundNode=function(node,_179,_17a,_17b){_179=dojo.byId(_179);var _17c=dojo.position(_179,true);return dijit._placeOnScreenAroundRect(node,_17c.x,_17c.y,_17c.w,_17c.h,_17a,_17b);};dijit.placeOnScreenAroundRectangle=function(node,_17d,_17e,_17f){return dijit._placeOnScreenAroundRect(node,_17d.x,_17d.y,_17d.width,_17d.height,_17e,_17f);};dijit._placeOnScreenAroundRect=function(node,x,y,_180,_181,_182,_183){var _184=[];for(var _185 in _182){_184.push({aroundCorner:_185,corner:_182[_185],pos:{x:x+(_185.charAt(1)=="L"?0:_180),y:y+(_185.charAt(0)=="T"?0:_181)}});}return dijit._place(node,_184,_183,{w:_180,h:_181});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_186,_187,_188){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_189,_18a){var _18b={};dojo.forEach(_189,function(pos){switch(pos){case "after":_18b[_18a?"BR":"BL"]=_18a?"BL":"BR";break;case "before":_18b[_18a?"BL":"BR"]=_18a?"BR":"BL";break;case "below-alt":_18a=!_18a;case "below":_18b[_18a?"BL":"BR"]=_18a?"TL":"TR";_18b[_18a?"BR":"BL"]=_18a?"TR":"TL";break;case "above-alt":_18a=!_18a;case "above":default:_18b[_18a?"TL":"TR"]=_18a?"BL":"BR";_18b[_18a?"TR":"TL"]=_18a?"BR":"BL";break;}});return _18b;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_18c){var _18d=_18c.declaredClass?_18c._popupWrapper:(dojo.hasClass(_18c.parentNode,"dijitPopup")&&_18c.parentNode),node=_18c.domNode||_18c;if(!_18d){_18d=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_18d.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_18c.declaredClass){_18c._popupWrapper=_18d;dojo.connect(_18c,"destroy",function(){dojo.destroy(_18d);delete _18c._popupWrapper;});}}return _18d;},moveOffScreen:function(_18e){var _18f=this._createWrapper(_18e);dojo.style(_18f,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_190){var _191=this._createWrapper(_190);dojo.style(_191,"display","none");},getTopPopup:function(){var _192=this._stack;for(var pi=_192.length-1;pi>0&&_192[pi].parent===_192[pi-1].widget;pi--){}return _192[pi];},open:function(args){var _193=this._stack,_194=args.popup,_195=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_196=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_193.length&&(!args.parent||!dojo.isDescendant(args.parent.domNode,_193[_193.length-1].widget.domNode))){dijit.popup.close(_193[_193.length-1].widget);}var _197=this._createWrapper(_194);dojo.attr(_197,{id:id,style:{zIndex:this._beginZIndex+_193.length},"class":"dijitPopup "+(_194.baseClass||_194["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_194.bgIframe){_194.bgIframe=new dijit.BackgroundIframe(_197);}}var best=_196?dijit.placeOnScreenAroundElement(_197,_196,_195,_194.orient?dojo.hitch(_194,"orient"):null):dijit.placeOnScreen(_197,args,_195=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_197.style.display="";_197.style.visibility="visible";_194.domNode.style.visibility="visible";var _198=[];_198.push(dojo.connect(_197,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _199=this.getTopPopup();if(_199&&_199.onCancel){_199.onCancel();}}}}));if(_194.onCancel){_198.push(dojo.connect(_194,"onCancel",args.onCancel));}_198.push(dojo.connect(_194,_194.onExecute?"onExecute":"onChange",this,function(){var _19a=this.getTopPopup();if(_19a&&_19a.onExecute){_19a.onExecute();}}));_193.push({widget:_194,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_198});if(_194.onOpen){_194.onOpen(best);}return best;},close:function(_19b){var _19c=this._stack;while((_19b&&dojo.some(_19c,function(elem){return elem.widget==_19b;}))||(!_19b&&_19c.length)){var top=_19c.pop(),_19d=top.widget,_19e=top.onClose;if(_19d.onClose){_19d.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_19d&&_19d.domNode){this.hide(_19d);}if(_19e){_19e();}}}};dijit._frames=new function(){var _19f=[];this.pop=function(){var _1a0;if(_19f.length){_1a0=_19f.pop();_1a0.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_1a0=dojo.doc.createElement(html);}else{_1a0=dojo.create("iframe");_1a0.src="javascript:\"\"";_1a0.className="dijitBackgroundIframe";dojo.style(_1a0,"opacity",0.1);}_1a0.tabIndex=-1;dijit.setWaiRole(_1a0,"presentation");}return _1a0;};this.push=function(_1a1){_1a1.style.display="none";_19f.push(_1a1);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _1a2=(this.iframe=dijit._frames.pop());node.appendChild(_1a2);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_1a2,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_1a3=d.isOpera,maj=Math.floor,ff=d.isFF,_1a4=d.boxModel.replace(/-/,""),_1a5={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_1a3,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_1a5["dj_"+_1a4]=true;var _1a6="";for(var clz in _1a5){if(_1a5[clz]){_1a6+=clz+" ";}}html.className=d.trim(html.className+" "+_1a6);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _1a7="dj_rtl dijitRtl "+_1a6.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_1a7);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_1a8,node,_1a9,obj,_1aa,_1ab,_1ac){if(obj!=this._obj){this.stop();this._initialDelay=_1ab||500;this._subsequentDelay=_1aa||0.9;this._minDelay=_1ac||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_1a8,_1a9);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_1ad,_1ae,_1af,_1b0,_1b1,_1b2){if(_1ad.keyCode){_1ad.charOrCode=_1ad.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_1ad.charCode){_1ad.charOrCode=String.fromCharCode(_1ad.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_1ad.charOrCode&&(_1ad.ctrlKey===undefined||_1ad.ctrlKey==evt.ctrlKey)&&(_1ad.altKey===undefined||_1ad.altKey==evt.altKey)&&(_1ad.metaKey===undefined||_1ad.metaKey==(evt.metaKey||false))&&(_1ad.shiftKey===undefined||_1ad.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_1ae,node,_1af,_1ad,_1b0,_1b1,_1b2);}else{if(dijit.typematic._obj==_1ad){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_1ad){dijit.typematic.stop();}})];},addMouseListener:function(node,_1b3,_1b4,_1b5,_1b6,_1b7){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_1b3,node,_1b4,node,_1b5,_1b6,_1b7);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_1b3,node,_1b4,node,_1b5,_1b6,_1b7);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_1b8,_1b9,_1ba,_1bb,_1bc,_1bd,_1be,_1bf){return this.addKeyListener(_1b9,_1ba,_1bb,_1bc,_1bd,_1be,_1bf).concat(this.addMouseListener(_1b8,_1bb,_1bc,_1bd,_1be,_1bf));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _1c0=cs.backgroundImage;var _1c1=(cs.borderTopColor==cs.borderRightColor)||(_1c0!=null&&(_1c0=="none"||_1c0=="url(invalid-url:)"));dojo[_1c1?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _1c2=this.getWaiRole(elem);return role?(_1c2.indexOf(role)>-1):(_1c2.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _1c3=dojo.attr(elem,"role");if(!_1c3){return;}if(role){var t=dojo.trim((" "+_1c3+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_1c4){return elem.hasAttribute?elem.hasAttribute("aria-"+_1c4):!!elem.getAttribute("aria-"+_1c4);},getWaiState:function(elem,_1c5){return elem.getAttribute("aria-"+_1c5)||"";},setWaiState:function(elem,_1c6,_1c7){elem.setAttribute("aria-"+_1c6,_1c7);},removeWaiState:function(elem,_1c8){elem.removeAttribute("aria-"+_1c8);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_1c9,_1ca){if(_1c9&&dojo.isFunction(_1c9._onConnect)){_1c9._onConnect(_1ca);}});dijit._connectOnUseEventHandler=function(_1cb){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _1cc=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_1cc);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_1cc);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_1cd,_1ce){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_1cf){if(_1cf in this._deferredConnects){var _1d0=this[this._deferredConnects[_1cf]||"domNode"];this.connect(_1d0,_1cf.toLowerCase(),_1cf);delete this._deferredConnects[_1cf];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_1d1){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_1d1);},attr:function(name,_1d2){if(dojo.config.isDebug){var _1d3=arguments.callee._ach||(arguments.callee._ach={}),_1d4=(arguments.callee.caller||"unknown caller").toString();if(!_1d3[_1d4]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_1d4,"","2.0");_1d3[_1d4]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_1d5,_1d6){var d=dojo,dc=d._connect,_1d7=this.inherited(arguments,[obj,_1d5=="ondijitclick"?"onclick":_1d5,_1d6]);if(_1d5=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_1d6);_1d7.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _1d7;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_1d8,map,_1d9,_1da){_1da=_1da||dojo.global;_1d9=_1d9?dojo.hitch(_1da,_1d9):function(v){return v;};return _1d8.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1db,key,_1dc){var _1dd=dojo.getObject(key,false,map);if(_1dc){_1dd=dojo.getObject(_1dc,false,_1da).call(_1da,_1dd,key);}return _1d9(_1dd,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_1de,_1df){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _1e0=dojo.date.stamp._isoRegExp.exec(_1de),_1e1=null;if(_1e0){_1e0.shift();if(_1e0[1]){_1e0[1]--;}if(_1e0[6]){_1e0[6]*=1000;}if(_1df){_1df=new Date(_1df);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _1df["get"+prop]();}),function(_1e2,_1e3){_1e0[_1e3]=_1e0[_1e3]||_1e2;});}_1e1=new Date(_1e0[0]||1970,_1e0[1]||0,_1e0[2]||1,_1e0[3]||0,_1e0[4]||0,_1e0[5]||0,_1e0[6]||0);if(_1e0[0]<100){_1e1.setFullYear(_1e0[0]||1970);}var _1e4=0,_1e5=_1e0[7]&&_1e0[7].charAt(0);if(_1e5!="Z"){_1e4=((_1e0[8]||0)*60)+(Number(_1e0[9])||0);if(_1e5!="-"){_1e4*=-1;}}if(_1e5){_1e4-=_1e1.getTimezoneOffset();}if(_1e4){_1e1.setTime(_1e1.getTime()+_1e4*60000);}}return _1e1;};dojo.date.stamp.toISOString=function(_1e6,_1e7){var _1e8=function(n){return (n<10)?"0"+n:n;};_1e7=_1e7||{};var _1e9=[],_1ea=_1e7.zulu?"getUTC":"get",date="";if(_1e7.selector!="time"){var year=_1e6[_1ea+"FullYear"]();date=["0000".substr((year+"").length)+year,_1e8(_1e6[_1ea+"Month"]()+1),_1e8(_1e6[_1ea+"Date"]())].join("-");}_1e9.push(date);if(_1e7.selector!="date"){var time=[_1e8(_1e6[_1ea+"Hours"]()),_1e8(_1e6[_1ea+"Minutes"]()),_1e8(_1e6[_1ea+"Seconds"]())].join(":");var _1eb=_1e6[_1ea+"Milliseconds"]();if(_1e7.milliseconds){time+="."+(_1eb<100?"0":"")+_1e8(_1eb);}if(_1e7.zulu){time+="Z";}else{if(_1e7.selector!="time"){var _1ec=_1e6.getTimezoneOffset();var _1ed=Math.abs(_1ec);time+=(_1ec>0?"-":"+")+_1e8(Math.floor(_1ed/60))+":"+_1e8(_1ed%60);}}_1e9.push(time);}return _1e9.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _1ee(_1ef){if(d.isString(_1ef)){return "string";}if(typeof _1ef=="number"){return "number";}if(typeof _1ef=="boolean"){return "boolean";}if(d.isFunction(_1ef)){return "function";}if(d.isArray(_1ef)){return "array";}if(_1ef instanceof Date){return "date";}if(_1ef instanceof d._Url){return "url";}return "object";};function _1f0(_1f1,type){switch(type){case "string":return _1f1;case "number":return _1f1.length?Number(_1f1):NaN;case "boolean":return typeof _1f1=="boolean"?_1f1:!(_1f1.toLowerCase()=="false");case "function":if(d.isFunction(_1f1)){_1f1=_1f1.toString();_1f1=d.trim(_1f1.substring(_1f1.indexOf("{")+1,_1f1.length-1));}try{if(_1f1===""||_1f1.search(/[^\w\.]+/i)!=-1){return new Function(_1f1);}else{return d.getObject(_1f1,false)||new Function(_1f1);}}catch(e){return new Function();}case "array":return _1f1?_1f1.split(/\s*,\s*/):[];case "date":switch(_1f1){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_1f1);}case "url":return d.baseUrl+_1f1;default:return d.fromJson(_1f1);}};var _1f2={},_1f3={};d.connect(d,"extend",function(){_1f3={};});function _1f4(cls,_1f5){for(var name in cls){if(name.charAt(0)=="_"){continue;}if(name in _1f2){continue;}_1f5[name]=_1ee(cls[name]);}return _1f5;};function _1f6(_1f7,_1f8){var c=_1f3[_1f7];if(!c){var cls=d.getObject(_1f7),_1f9=null;if(!cls){return null;}if(!_1f8){_1f9=_1f4(cls.prototype,{});}c={cls:cls,params:_1f9};}else{if(!_1f8&&!c.params){c.params=_1f4(c.cls.prototype,{});}}return c;};this._functionFromScript=function(_1fa,_1fb){var _1fc="";var _1fd="";var _1fe=(_1fa.getAttribute(_1fb+"args")||_1fa.getAttribute("args"));if(_1fe){d.forEach(_1fe.split(/\s*,\s*/),function(part,idx){_1fc+="var "+part+" = arguments["+idx+"]; ";});}var _1ff=_1fa.getAttribute("with");if(_1ff&&_1ff.length){d.forEach(_1ff.split(/\s*,\s*/),function(part){_1fc+="with("+part+"){";_1fd+="}";});}return new Function(_1fc+_1fa.innerHTML+_1fd);};this.instantiate=function(_200,_201,args){var _202=[],_201=_201||{};args=args||{};var _203=(args.scope||d._scopeName)+"Type",_204="data-"+(args.scope||d._scopeName)+"-";d.forEach(_200,function(obj){if(!obj){return;}var node,type,_205,_206,_207,_208;if(obj.node){node=obj.node;type=obj.type;_208=obj.fastpath;_205=obj.clsInfo||(type&&_1f6(type,_208));_206=_205&&_205.cls;_207=obj.scripts;}else{node=obj;type=_203 in _201?_201[_203]:node.getAttribute(_203);_205=type&&_1f6(type);_206=_205&&_205.cls;_207=(_206&&(_206._noScript||_206.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));}if(!_205){throw new Error("Could not load class '"+type);}var _209={};if(args.defaults){d._mixin(_209,args.defaults);}if(obj.inherited){d._mixin(_209,obj.inherited);}if(_208){var _20a=node.getAttribute(_204+"props");if(_20a&&_20a.length){try{_20a=d.fromJson.call(args.propsThis,"{"+_20a+"}");d._mixin(_209,_20a);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_20a+"'");}}var _20b=node.getAttribute(_204+"attach-point");if(_20b){_209.dojoAttachPoint=_20b;}var _20c=node.getAttribute(_204+"attach-event");if(_20c){_209.dojoAttachEvent=_20c;}dojo.mixin(_209,_201);}else{var _20d=node.attributes;for(var name in _205.params){var item=name in _201?{value:_201[name],specified:true}:_20d.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _20e=item.value;switch(name){case "class":_20e="className" in _201?_201.className:node.className;break;case "style":_20e="style" in _201?_201.style:(node.style&&node.style.cssText);}var _20f=_205.params[name];if(typeof _20e=="string"){_209[name]=_1f0(_20e,_20f);}else{_209[name]=_20e;}}}var _210=[],_211=[];d.forEach(_207,function(_212){node.removeChild(_212);var _213=(_212.getAttribute(_204+"event")||_212.getAttribute("event")),type=_212.getAttribute("type"),nf=d.parser._functionFromScript(_212,_204);if(_213){if(type=="dojo/connect"){_210.push({event:_213,func:nf});}else{_209[_213]=nf;}}else{_211.push(nf);}});var _214=_206.markupFactory||_206.prototype&&_206.prototype.markupFactory;var _215=_214?_214(_209,node,_206):new _206(_209,node);_202.push(_215);var _216=(node.getAttribute(_204+"id")||node.getAttribute("jsId"));if(_216){d.setObject(_216,_215);}d.forEach(_210,function(_217){d.connect(_215,_217.event,null,_217.func);});d.forEach(_211,function(func){func.call(_215);});});if(!_201._started){d.forEach(_202,function(_218){if(!args.noStart&&_218&&dojo.isFunction(_218.startup)&&!_218._started&&(!_218.getParent||!_218.getParent())){_218.startup();}});}return _202;};this.parse=function(_219,args){var root;if(!args&&_219&&_219.rootNode){args=_219;root=args.rootNode;}else{root=_219;}args=args||{};var _21a=(args.scope||d._scopeName)+"Type",_21b="data-"+(args.scope||d._scopeName)+"-";function scan(_21c,list){var _21d=dojo.clone(_21c.inherited);dojo.forEach(["dir","lang"],function(name){var val=_21c.node.getAttribute(name);if(val){_21d[name]=val;}});var _21e=_21c.clsInfo&&!_21c.clsInfo.cls.prototype._noScript?_21c.scripts:null;var _21f=(!_21c.clsInfo||!_21c.clsInfo.cls.prototype.stopParser)||(args&&args.template);for(var _220=_21c.node.firstChild;_220;_220=_220.nextSibling){if(_220.nodeType==1){var type,_221=_21f&&_220.getAttribute(_21b+"type");if(_221){type=_221;}else{type=_21f&&_220.getAttribute(_21a);}var _222=_221==type;if(type){var _223={"type":type,fastpath:_222,clsInfo:_1f6(type,_222),node:_220,scripts:[],inherited:_21d};list.push(_223);scan(_223,list);}else{if(_21e&&_220.nodeName.toLowerCase()=="script"){type=_220.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_21e.push(_220);}}else{if(_21f){scan({node:_220,inherited:_21d},list);}}}}}};var list=[];scan({node:root?dojo.byId(root):dojo.body(),inherited:(args&&args.inherited)||{dir:dojo._isBodyLtr()?"ltr":"rtl"}},list);var _224=args&&args.template?{template:true}:null;return this.instantiate(list,_224,args);};}();(function(){var _225=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_225);}else{dojo._loaders.unshift(_225);}})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_226,url,_227){if(typeof _226=="string"){var _228=dojo.moduleUrl(_226,url);}else{_228=_226;_227=url;}var key=_228.toString();var val=_227;if(_227!=undefined&&!dojo.isString(_227)){val=("value" in _227?_227.value:undefined);}var _229=_227&&_227.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_229?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_229?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _22a=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_22a){val=_22a[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _22b=this.declaredClass,_22c=this;return dojo.string.substitute(tmpl,this,function(_22d,key){if(key.charAt(0)=="!"){_22d=dojo.getObject(key.substr(1),false,_22c);}if(typeof _22d=="undefined"){throw new Error(_22b+" template:"+key);}if(_22d==null){return "";}return key.charAt(0)=="!"?_22d:_22d.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _22e=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_22e)){node=dojo._toDom(this._stringRepl(_22e));if(node.nodeType!=1){throw new Error("Invalid template: "+_22e);}}else{node=_22e.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_22f){var dest=this.containerNode;if(_22f&&dest){while(_22f.hasChildNodes()){dest.appendChild(_22f.firstChild);}}},_attachTemplateNodes:function(_230,_231){_231=_231||function(n,p){return n.getAttribute(p);};var _232=dojo.isArray(_230)?_230:(_230.all||_230.getElementsByTagName("*"));var x=dojo.isArray(_230)?0:-1;for(;x<_232.length;x++){var _233=(x==-1)?_230:_232[x];if(this.widgetsInTemplate&&(_231(_233,"dojoType")||_231(_233,"data-dojo-type"))){continue;}var _234=_231(_233,"dojoAttachPoint")||_231(_233,"data-dojo-attach-point");if(_234){var _235,_236=_234.split(/\s*,\s*/);while((_235=_236.shift())){if(dojo.isArray(this[_235])){this[_235].push(_233);}else{this[_235]=_233;}this._attachPoints.push(_235);}}var _237=_231(_233,"dojoAttachEvent")||_231(_233,"data-dojo-attach-event");if(_237){var _238,_239=_237.split(/\s*,\s*/);var trim=dojo.trim;while((_238=_239.shift())){if(_238){var _23a=null;if(_238.indexOf(":")!=-1){var _23b=_238.split(":");_238=trim(_23b[0]);_23a=trim(_23b[1]);}else{_238=trim(_238);}if(!_23a){_23a=_238;}this._attachEvents.push(this.connect(_233,_238,_23a));}}}var role=_231(_233,"waiRole");if(role){dijit.setWaiRole(_233,role);}var _23c=_231(_233,"waiState");if(_23c){dojo.forEach(_23c.split(/\s*,\s*/),function(_23d){if(_23d.indexOf("-")!=-1){var pair=_23d.split("-");dijit.setWaiState(_233,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_23e){delete this[_23e];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_23f,_240,_241){var _242=dijit._Templated._templateCache;var key=_240||_23f;var _243=_242[key];if(_243){try{if(!_243.ownerDocument||_243.ownerDocument==dojo.doc){return _243;}}catch(e){}dojo.destroy(_243);}if(!_240){_240=dojo.cache(_23f,{sanitize:true});}_240=dojo.string.trim(_240);if(_241||_240.match(/\$\{([^\}]+)\}/g)){return (_242[key]=_240);}else{var node=dojo._toDom(_240);if(node.nodeType!=1){throw new Error("Invalid template: "+_240);}return (_242[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _244=dijit._Templated._templateCache;for(var key in _244){var _245=_244[key];if(typeof _245=="object"){dojo.destroy(_245);}delete _244[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){this.watch(attr,dojo.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_246){if(!this.disabled){switch(_246.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _247=this.connect(dojo.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_247);});break;}}},_setStateClass:function(){var _248=this.baseClass.split(" ");function _249(_24a){_248=_248.concat(dojo.map(_248,function(c){return c+_24a;}),"dijit"+_24a);};if(!this.isLeftToRight()){_249("Rtl");}if(this.checked){_249("Checked");}if(this.state){_249(this.state);}if(this.selected){_249("Selected");}if(this.disabled){_249("Disabled");}else{if(this.readOnly){_249("ReadOnly");}else{if(this.active){_249("Active");}else{if(this.hovering){_249("Hover");}}}}if(this._focused){_249("Focused");}var tn=this.stateNode||this.domNode,_24b={};dojo.forEach(tn.className.split(" "),function(c){_24b[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _24b[c];});}dojo.forEach(_248,function(c){_24b[c]=true;});var _24c=[];for(var c in _24b){_24c.push(c);}tn.className=_24c.join(" ");this._stateClasses=_248;},_trackMouseState:function(node,_24d){var _24e=false,_24f=false,_250=false;var self=this,cn=dojo.hitch(this,"connect",node);function _251(){var _252=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_24d+"Hover",_24e&&!_24f&&!_252);dojo.toggleClass(node,_24d+"Active",_24f&&!_252);dojo.toggleClass(node,_24d+"Focused",_250&&!_252);};cn("onmouseenter",function(){_24e=true;_251();});cn("onmouseleave",function(){_24e=false;_24f=false;_251();});cn("onmousedown",function(){_24f=true;_251();});cn("onmouseup",function(){_24f=false;_251();});cn("onfocus",function(){_250=true;_251();});cn("onblur",function(){_250=false;_251();});this.watch("disabled",_251);this.watch("readOnly",_251);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_253){this._set("disabled",_253);dojo.attr(this.focusNode,"disabled",_253);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_253);}dijit.setWaiState(this.focusNode,"disabled",_253);if(_253){this._set("hovering",false);this._set("active",false);var _254="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_254)?_254:[_254],function(_255){var node=this[_255];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function(_256){dojo.deprecated("setDisabled("+_256+") is deprecated. Use set('disabled',"+_256+") instead.","","2.0");this.set("disabled",_256);},_onFocus:function(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){if(!this.disabled){dijit.focus(this.focusNode);}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_257){},_onChangeActive:false,_handleOnChange:function(_258,_259){if(this._lastValueReported==undefined&&(_259===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_258;}this._pendingOnChange=this._pendingOnChange||(typeof _258!=typeof this._lastValueReported)||(this.compare(_258,this._lastValueReported)!=0);if((this.intermediateChanges||_259||_259===undefined)&&this._pendingOnChange){this._lastValueReported=_258;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_258);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_25a){dojo.deprecated("dijit.form._FormWidget:setValue("+_25a+") is deprecated.  Use set('value',"+_25a+") instead.","","2.0");this.set("value",_25a);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){var _25b=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_25b);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_25c){dojo.attr(this.focusNode,"readOnly",_25c);dijit.setWaiState(this.focusNode,"readonly",_25c);this._set("readOnly",_25c);},postCreate:function(){this.inherited(arguments);if(dojo.isIE){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_25d,_25e){this._handleOnChange(_25d,_25e);},_handleOnChange:function(_25f,_260){this._set("value",_25f);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _261=this.domNode;var _262=_261.parentNode;var _263=_261.firstChild||_261;var _264=_263.style.filter;var _265=this;while(_262&&_262.clientHeight==0){(function ping(){var _266=_265.connect(_262,"onscroll",function(e){_265.disconnect(_266);_263.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_263.style.filter=_264;},0);});})();_262=_262.parentNode;}}}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_267,_268){var _269=this.containerNode;if(_268&&typeof _268=="number"){var _26a=this.getChildren();if(_26a&&_26a.length>=_268){_269=_26a[_268-1].domNode;_268="after";}}dojo.place(_267.domNode,_269,_268);if(this._started&&!_267._started){_267.startup();}},removeChild:function(_26b){if(typeof _26b=="number"){_26b=this.getChildren()[_26b];}if(_26b){var node=_26b.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_26c){dojo.forEach(this.getChildren(),function(_26d){_26d.destroyRecursive(_26c);});},_getSiblingOfChild:function(_26e,dir){var node=_26e.domNode,_26f=(dir>0?"nextSibling":"previousSibling");do{node=node[_26f];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_270){return dojo.indexOf(this.getChildren(),_270);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_271){_271.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _272=this.dropDown,_273=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_273){if(dojo.hasClass(t,"dijitPopup")){_273=true;}else{t=t.parentNode;}}if(_273){t=e.target;if(_272.onItemClick){var _274;while(t&&!(_274=dijit.byNode(t))){t=t.parentNode;}if(_274&&_274.onClick&&_274.getParent){_274.getParent().onItemClick(_274,e);}}return;}}}if(this._opened&&_272.focus&&_272.autoFocus!==false){window.setTimeout(dojo.hitch(_272,"focus"),1);}},_onDropDownClick:function(e){if(this._stopClickEvents){dojo.stopEvent(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _275={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_275+"ArrowButton");},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_276=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){dojo.stopEvent(e);return;}}if(d&&this._opened&&e.charOrCode==dojo.keys.ESCAPE){this.closeDropDown();dojo.stopEvent(e);}else{if(!this._opened&&(e.charOrCode==dojo.keys.DOWN_ARROW||((e.charOrCode==dojo.keys.ENTER||e.charOrCode==" ")&&((_276.tagName||"").toLowerCase()!=="input"||(_276.type&&_276.type.toLowerCase()!=="text"))))){this.toggleDropDown();d=this.dropDown;if(d&&d.focus){setTimeout(dojo.hitch(d,"focus"),1);}dojo.stopEvent(e);}}},_onBlur:function(){var _277=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);this.closeDropDown(_277);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_278){_278();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _279=this.dropDown,_27a=_279.domNode,_27b=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_27a.style.width){this._explicitDDWidth=true;}if(_27a.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _27c={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_27c.width="";}if(!this._explicitDDHeight){_27c.height="";}dojo.style(_27a,_27c);var _27d=this.maxHeight;if(_27d==-1){var _27e=dojo.window.getBox(),_27f=dojo.position(_27b,false);_27d=Math.floor(Math.max(_27f.y,_27e.h-(_27f.y+_27f.h)));}if(_279.startup&&!_279._started){_279.startup();}dijit.popup.moveOffScreen(_279);var mb=dojo._getMarginSize(_27a);var _280=(_27d&&mb.h>_27d);dojo.style(_27a,{overflowX:"hidden",overflowY:_280?"auto":"hidden"});if(_280){mb.h=_27d;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_27b.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_27b.offsetWidth);}else{delete mb.w;}}if(dojo.isFunction(_279.resize)){_279.resize(mb);}else{dojo.marginBox(_27a,mb);}}var _281=dijit.popup.open({parent:this,popup:_279,around:_27b,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _281;},closeDropDown:function(_282){if(this._opened){if(_282){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\"\r\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdojoAttachPoint=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\tdojoAttachPoint=\"valueNode\"\r\n/></span>\r\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode"}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _283=dijit.byNode(node);if(_283&&typeof _283._onSubmit=="function"){_283._onSubmit(e);break;}}}else{if(this.valueNode){this.valueNode.click();e.preventDefault();}}}},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function(_284){if(_284&&(!this.params||!("label" in this.params))){this.set("label",_284.innerHTML);}},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_285){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_285);},_setLabelAttr:function(_286){this._set("label",_286);this.containerNode.innerHTML=_286;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},_setIconClassAttr:function(val){var _287=this.iconClass||"dijitNoIcon",_288=val||"dijitNoIcon";dojo.replaceClass(this.iconNode,_288,_287);this._set("iconClass",val);}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\r\n\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\r\n\t\t\t\tdojoAttachPoint=\"iconNode\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\tdojoAttachPoint=\"valueNode\"\r\n/></span>\r\n"),_fillContent:function(){if(this.srcNodeRef){var _289=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_289[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _28a=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_28a);delete this.dropDownContainer;}if(this.dropDown){dijit.popup.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _28b=this.dropDown;return (!!_28b&&(!_28b.href||_28b.isLoaded));},loadDropDown:function(){var _28c=this.dropDown;if(!_28c){return;}if(!this.isLoaded()){var _28d=dojo.connect(_28c,"onLoad",this,function(){dojo.disconnect(_28d);this.openDropDown();});_28c.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\r\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\r\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\r\n\t\t\tdojoAttachPoint=\"titleNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" role=\"presentation\"></div\r\n\t\t></div\r\n\t\t></td\r\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\r\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\r\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\r\n\t\t\ttitle=\"${optionsTitle}\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t\t><td style=\"display:none !important;\"\r\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\r\n\t\t/></td></tr></tbody\r\n></table>\r\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_28e){if(!this.disabled){dijit.focus(_28e=="start"?this.titleNode:this._popupStateNode);}}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.set("checked",!this.checked);},_setCheckedAttr:function(_28f,_290){this._set("checked",_28f);dojo.attr(this.focusNode||this.domNode,"checked",_28f);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_28f);this._handleOnChange(_28f,_290);},setChecked:function(_291){dojo.deprecated("setChecked("+_291+") is deprecated. Use set('checked',"+_291+") instead.","","2.0");this.set("checked",_291);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton");}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:dojo.cache("dijit.form","templates/CheckBox.html","<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><input\r\n\t \t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\r\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\r\n\t\tdojoAttachPoint=\"focusNode\"\r\n\t \tdojoAttachEvent=\"onclick:_onClick\"\r\n/></div>\r\n"),baseClass:"dijitCheckBox",type:"checkbox",value:"on",readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{readOnly:"focusNode"}),_setReadOnlyAttr:function(_292){this._set("readOnly",_292);dojo.attr(this.focusNode,"readOnly",_292);dijit.setWaiState(this.focusNode,"readonly",_292);},_setValueAttr:function(_293,_294){if(typeof _293=="string"){this._set("value",_293);dojo.attr(this.focusNode,"value",_293);_293=true;}if(this._created){this.set("checked",_293,_294);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setLabelAttr:undefined,postMixInProperties:function(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function(_295){},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);this._set("value",this.params.value||"on");dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);},_onClick:function(e){if(this.readOnly){dojo.stopEvent(e);return false;}return this.inherited(arguments);}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_296){this.inherited(arguments);if(!this._created){return;}if(_296){var _297=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_298){if(_298.name==_297.name&&_298!=_297.focusNode&&_298.form==_297.focusNode.form){var _299=dijit.getEnclosingWidget(_298);if(_299&&_299.checked){_299.set("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.set("checked",true);}}});}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");dojo.getObject("colors",true,dojo);(function(){var _29a=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_29b,obj){var m=_29b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_29a(m1,m2,H+1/3)*256,_29a(m1,m2,H)*256,_29a(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _29c=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_29c(t.r,0,255));t.g=Math.round(_29c(t.g,0,255));t.b=Math.round(_29c(t.b,0,255));t.a=_29c(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.mixin(dojo.Color.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(cyan,_29d,_29e){if(dojo.isArray(cyan)){_29d=cyan[1],_29e=cyan[2],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_29d=cyan.m,_29e=cyan.y,cyan=cyan.c;}}cyan/=100,_29d/=100,_29e/=100;var r=1-cyan,g=1-_29d,b=1-_29e;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_29f,_2a0,_2a1){if(dojo.isArray(cyan)){_29f=cyan[1],_2a0=cyan[2],_2a1=cyan[3],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_29f=cyan.m,_2a0=cyan.y,_2a1=cyan.b,cyan=cyan.c;}}cyan/=100,_29f/=100,_2a0/=100,_2a1/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_2a1)+_2a1);g=1-Math.min(1,_29f*(1-_2a1)+_2a1);b=1-Math.min(1,_2a0*(1-_2a1)+_2a1);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_2a2,_2a3){if(dojo.isArray(hue)){_2a2=hue[1],_2a3=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_2a2=hue.s,_2a3=hue.l,hue=hue.h;}}_2a2/=100;_2a3/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_2a2*Math.min(r,1)+(1-_2a2);g=2*_2a2*Math.min(g,1)+(1-_2a2);b=2*_2a2*Math.min(b,1)+(1-_2a2);if(_2a3<0.5){r*=_2a3,g*=_2a3,b*=_2a3;}else{r=(1-_2a3)*r+2*_2a3-1;g=(1-_2a3)*g+2*_2a3-1;b=(1-_2a3)*b+2*_2a3-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_2a4,_2a5){if(dojo.isArray(hue)){_2a4=hue[1],_2a5=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_2a4=hue.s,_2a5=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_2a4/=100;_2a5/=100;var r,g,b;if(_2a4==0){r=_2a5,b=_2a5,g=_2a5;}else{var _2a6=hue/60,i=Math.floor(_2a6),f=_2a6-i;var p=_2a5*(1-_2a4);var q=_2a5*(1-(_2a4*f));var t=_2a5*(1-(_2a4*(1-f)));switch(i){case 0:r=_2a5,g=t,b=p;break;case 1:r=q,g=_2a5,b=p;break;case 2:r=p,g=_2a5,b=t;break;case 3:r=p,g=q,b=_2a5;break;case 4:r=t,g=p,b=_2a5;break;case 5:r=_2a5,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var cyan=1-(this.r/255),_2a7=1-(this.g/255),_2a8=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_2a7*100),y:Math.round(_2a8*100)};},toCmyk:function(){var cyan,_2a9,_2aa,_2ab;var r=this.r/255,g=this.g/255,b=this.b/255;_2ab=Math.min(1-r,1-g,1-b);cyan=(1-r-_2ab)/(1-_2ab);_2a9=(1-g-_2ab)/(1-_2ab);_2aa=(1-b-_2ab)/(1-_2ab);return {c:Math.round(cyan*100),m:Math.round(_2a9*100),y:Math.round(_2aa*100),b:Math.round(_2ab*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _2ac=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_2ac/((l<0.5)?(2*l):(2-2*l));}if(_2ac>0){if(max==r&&max!=g){h+=(g-b)/_2ac;}if(max==g&&max!=b){h+=(2+(b-r)/_2ac);}if(max==b&&max!=r){h+=(4+(r-g)/_2ac);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _2ad=max-min;var h=null,s=(max==0)?0:(_2ad/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_2ad;}else{if(g==max){h=120+60*(b-r)/_2ad;}else{h=240+60*(r-g)/_2ad;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["course.geo.styling"]){dojo._hasResource["course.geo.styling"]=true;dojo.provide("course.geo.styling");(function(){var g=course.geo,s=g.styling;var _2ae=["point","polygon","line","text"],_2af={id:1,filter:1,styleClass:1,fid:1,styleFunction:1,mode:1};dojo.declare("course.geo.Style",null,{def:null,_features:null,constructor:function(def,map){this.map=map;this._features={};this._setDef(def);if(def.id){map.styleById[def.id]=this;}},set:function(def){var m=this.map;var _2b0=this.styleClass||this.fid?{}:this._features;if(this.styleClass){dojo.forEach(this.styleClass,function(_2b1){if(this.fid){dojo.forEach(this.fid,function(_2b2){var _2b3=m.styleByClassAndFid[_2b1][_2b2],_2b4=_2b3.length;for(var i=0;i<_2b4;i++){if(_2b3[i]==this){break;}}if(i<_2b4){_2b3.splice(i,1);var _2b5=m.getFeatureById(_2b2);if(_2b5&&_2b5.styleClass){for(var i=0;i<_2b5.styleClass.length;i++){if(_2b1==_2b5.styleClass[i]&&!_2b0[_2b5.id]){_2b0[_2b5.id]=_2b5;break;}}}}},this);}else{var _2b6=m.styleByClass[_2b1],_2b7=_2b6.length;for(var i=0;i<_2b7;i++){if(_2b6[i]==this){break;}}if(i<_2b7){_2b6.splice(i,1);var _2b8=m.featuresByClass[_2b1];if(_2b8){dojo.forEach(_2b8,function(f){if(!_2b0[f.id]){_2b0[f.id]=f;}});}}}},this);}else{if(this.fid){dojo.forEach(this.fid,function(_2b9){var _2ba=m.styleByFid[_2b9],_2bb=_2ba.length;for(var i=0;i<_2bb;i++){if(_2ba[i]==this){break;}}if(i<_2bb){_2ba.splice(i,1);var _2bc=m.getFeatureById(_2b9);if(_2bc&&!_2b0[_2bc.id]){_2b0[_2bc.id]=_2bc;}}},this);}}delete this.styleClass,this.fid,this.filter;this._setDef(def);this.map.renderFeatures(_2b0,true,"normal");},_setDef:function(def){var m=this.map;if(def.mode){this.mode=def.mode;}var _2bd=def.filter;if(def.filter){this.filter=dojo.isString(_2bd)?eval("_=function(){return "+_2bd+";}"):_2bd;}var _2be=def.styleClass;var fid=def.fid;if(fid&&!dojo.isArray(fid)){fid=[fid];}if(_2be){if(!dojo.isArray(_2be)){_2be=[_2be];}dojo.forEach(_2be,function(_2bf){if(fid){var _2c0=m.styleByClassAndFid;dojo.forEach(fid,function(_2c1){if(!_2c0[_2bf]){_2c0[_2bf]={};}if(!_2c0[_2bf][_2c1]){_2c0[_2bf][_2c1]=[];}_2c0[_2bf][_2c1].push(this);},this);}else{if(!m.styleByClass[_2bf]){m.styleByClass[_2bf]=[];}m.styleByClass[_2bf].push(this);}},this);}else{if(fid){dojo.forEach(fid,function(_2c2){if(!m.styleByFid[_2c2]){m.styleByFid[_2c2]=[];}m.styleByFid[_2c2].push(this);},this);}}if(_2be){this.styleClass=_2be;}if(fid){this.fid=fid;}var _2c3=def.styleFunction;if(_2c3){this.styleFunction={updated:(new Date()).getTime()};var _2c4=_2c3.getStyle;_2c4=dojo.isString(_2c4)?dojo.getObject(_2c4):_2c4;for(var attr in _2c3){this.styleFunction[attr]=(attr=="getStyle")?_2c4:_2c3[attr];}}def=_2c5({},def);this.def=def;},destroy:function(){delete this.def,this.filter,this.map,this._features,this.styleFunction;}});s.calculateStyle=function(_2c6,mode){var _2c7=[];var _2c8=[],_2c9=_2c6;do{_2c8.push(_2c9);_2c9=_2c9.parent;}while(_2c9!=_2c6.map);for(var i=_2c8.length-1;i>=0;i--){_2ca(_2c8[i],_2c7,mode);}var _2cb={};dojo.forEach(_2c7,function(_2cc){var _2cd=_2cc.filter?_2cf(_2cc.filter,_2c6):true;if(_2cd){dojo.mixin(_2cb,_2cc.def);if(_2cc.styleFunction){_2cc.styleFunction.getStyle(_2c6,_2cb,_2cc.styleFunction);}}});dojo.forEach(_2ae,function(_2ce){var s=_2cb[_2ce];if(s&&!dojo.isArray(s)){_2cb[_2ce]=[s];}});return _2cb;};function _2cf(_2d0,_2d1){return _2d0.call(_2d1.map.attributesInFeature?_2d1:_2d1.properties);};var _2ca=function(_2d2,_2d3,mode){var m=_2d2.map;styleClass=_2d2.styleClass,fid=_2d2.id;if(styleClass){dojo.forEach(styleClass,function(_2d4){var _2d5=m.styleByClassAndFid;if(_2d5[_2d4]&&_2d5[_2d4][fid]){_2d6(_2d5[_2d4][fid],_2d3,mode);}else{if(m.styleByClass[_2d4]){_2d6(m.styleByClass[_2d4],_2d3,mode);}}});}else{if(m.styleByFid[fid]){_2d6(m.styleByFid[fid],_2d3,mode);}}if(_2d2.style){_2d6(_2d2.style,_2d3,mode);}};var _2d6=function(what,to,mode){dojo.forEach(what,function(_2d7){if(((!_2d7.mode||_2d7.mode=="normal")&&(!mode||mode=="normal"))||(_2d7.mode==mode)){if(_2d7.def.reset){for(var i=to.length-1;i>=0;i--){to.pop();}}to.push(_2d7);}});};var _2c5=function(_2d8,_2d9){for(attr in _2d9){if(!_2af[attr]){_2d8[attr]=_2d9[attr];}}return _2d8;};s.style=[{stroke:"black",strokeWidth:0.5,strokeJoin:"round",fill:"#B7B7B7",shape:"square",size:10},{mode:"highlight",fill:"blue",stroke:"orange",strokeWidth:10,point:{type:"shape",shape:"square",fill:"yellow",size:40},line:[{strokeWidth:30,stroke:"red"},{strokeWidth:20,stroke:"green"},{strokeWidth:10,stroke:"white"}]}];}());}if(!dojo._hasResource["course.geo.util"]){dojo._hasResource["course.geo.util"]=true;dojo.provide("course.geo.util");(function(){var u=course.geo.util;var _2da=0;u.getUniqueNumber=function(){_2da+=1;return _2da;};u.degToRad=function(_2db){return Math.PI*_2db/180;};u.radToDeg=function(_2dc){return _2dc/Math.PI*180;};u.normalizeCallback=function(_2dd,_2de,_2df,_2e0){_2e0=_2e0?dojo.hitch(_2df,_2e0):_2df;return function(_2e1){_2e0({type:_2de,event:_2e1,feature:_2dd});};};u.bbox={extend:function(_2e2,_2e3){if(_2e3){if(_2e3[0]<_2e2[0]){_2e2[0]=_2e3[0];}if(_2e3[1]<_2e2[1]){_2e2[1]=_2e3[1];}if(_2e3.length==4){if(_2e3[2]>_2e2[2]){_2e2[2]=_2e3[2];}if(_2e3[3]>_2e2[3]){_2e2[3]=_2e3[3];}}else{if(_2e3[0]>_2e2[2]){_2e2[2]=_2e3[0];}if(_2e3[1]>_2e2[3]){_2e2[3]=_2e3[1];}}}return _2e2;},get:function(_2e4){var bbox,_2e5=0;switch(_2e4.type){case "Point":_2e5=1;break;case "LineString":_2e5=2;break;case "Polygon":_2e5=3;break;case "MultiLineString":_2e5=3;break;case "MultiPolygon":_2e5=4;break;}if(_2e5){bbox=[Infinity,Infinity,-Infinity,-Infinity];_2e6(_2e5,_2e4.coordinates,bbox);_2e4.bbox=bbox;}return bbox;}};var _2e6=function(_2e7,_2e8,bbox){if(_2e7==1){u.bbox.extend(bbox,_2e8);}else{dojo.forEach(_2e8,function(_2e9){_2e6(_2e7-1,_2e9,bbox);});}};}());}if(!dojo._hasResource["course.geo.Feature"]){dojo._hasResource["course.geo.Feature"]=true;dojo.provide("course.geo.Feature");(function(){var g=course.geo,u=g.util;g.events={onmouseover:1,onmouseout:1,onclick:1,onmousemove:1};dojo.declare("course.geo.Feature",null,{id:null,bbox:null,style:null,parent:null,map:null,constructor:function(_2ea,_2eb){if(_2eb){dojo.mixin(this,_2eb);}if(_2ea){dojo.mixin(this,_2ea);}if(!this.id){this.id="_geo_"+u.getUniqueNumber();}if(this.styleClass&&!dojo.isArray(this.styleClass)){this.styleClass=[this.styleClass];}if(_2ea&&_2ea.style){this.style=null;this.addStyle(_2ea.style);}},setMap:function(map){this.map=map;if(this.styleClass){dojo.forEach(this.styleClass,function(_2ec){var _2ed=map.featuresByClass;if(!_2ed[_2ec]){_2ed[_2ec]=[];}_2ed[_2ec].push(this);},this);}},setParent:function(_2ee){this.parent=_2ee;},get:function(attr){return this.map.attributesInFeature?this[attr]:this.properties[attr];},addStyle:function(_2ef){if(!dojo.isArray(_2ef)){_2ef=[_2ef];}dojo.forEach(_2ef,function(_2f0){var s=new g.Style(_2f0,this.map);if(!s.styleClass&&!s.fid){s._features[this.id]=this;if(!this.style){this.style=[];}this.style.push(s);}},this);},render:function(){},setGroup:function(_2f1){this.group=_2f1;},getBbox:function(){return this.bbox;},connect:function(_2f2,_2f3,_2f4){return this.connectWithHandle(null,_2f2,_2f3,_2f4);},connectWithHandle:function(_2f5,_2f6,_2f7,_2f8){},disconnect:function(_2f9,_2fa){}});g.featureTypes={};}());}if(!dojo._hasResource["course.geo.FeatureContainer"]){dojo._hasResource["course.geo.FeatureContainer"]=true;dojo.provide("course.geo.FeatureContainer");(function(){var g=course.geo,u=g.util;dojo.declare("course.geo.FeatureContainer",g.Feature,{type:"FeatureContainer",isFeatureContainer:true,features:null,constructor:function(_2fb,_2fc){if(this.features){var _2fd=this.features;this.features=[];this.addFeatures(_2fd,true);}else{this.features=[];}},addFeatures:function(_2fe,_2ff){if(!dojo.isArray(_2fe)){_2fe=[_2fe];}var _300=[];dojo.forEach(_2fe,function(_301){if(_301.declaredClass){_301.setMap(this.map);_301.setParent(this);this.features.push(_301);}else{if(!_301.type){_301.type=_301.features?"FeatureContainer":"Placemark";}if(_301.type=="Feature"){_301.type="Placemark";}var ctor=g.featureTypes[_301.type];if(ctor){_301=new ctor(_301,{map:this.map,parent:this});this.features.push(_301);}}if(_301.declaredClass){_301.setMap(this.map);_301.setParent(this);this.map.registerFeature(_301);_300.push(_301);}},this);if(!_2ff){this.map.renderFeatures(_300);}return _300;},removeFeatures:function(_302){if(!dojo.isArray(_302)){_302=[_302];}var _303=[];dojo.forEach(_302,function(_304){_304=_304.declaredClass?_304:this.map.getFeatureById(_304);if(_304){_304.remove();}},this);return _303;},remove:function(){this.removeFeatures(this.features);},getBbox:function(){var bbox=[Infinity,Infinity,-Infinity,-Infinity];dojo.forEach(this.features,function(_305){u.bbox.extend(bbox,_305.getBbox());},this);return bbox;},_render:function(_306,mode){dojo.forEach(this.features,function(_307){_307._render(_306,mode);},this);},getContainer:function(){if(!this.container){this.container=this.map.engine.createContainer(this);}return this.container;},connectWithHandle:function(_308,_309,_30a,_30b){if(!this.features.length){return _308;}_309=dojo.isString(_309)?[_309]:_309;_308=_308||u.getUniqueNumber();_30b=dojo.hitch(_30a,_30b);dojo.forEach(this.features,function(_30c){_30c.connectWithHandle(_308,_309,_30b);});return _308;},disconnect:function(_30d){if(!this.features.length){return;}dojo.forEach(this.features,function(_30e){_30e.disconnect(_30d);});}});g.featureTypes.FeatureContainer=g.FeatureContainer;g.featureTypes.FeatureCollection=g.FeatureContainer;}());}if(!dojo._hasResource["course.geo.Placemark"]){dojo._hasResource["course.geo.Placemark"]=true;dojo.provide("course.geo.Placemark");(function(){var g=course.geo,u=g.util,s=g.styling;var _30f={Point:1,LineString:1,Polygon:1,MultiLineString:1,MultiPolygon:1};dojo.declare("course.geo.Placemark",g.Feature,{type:"Placemark",isPlacemark:true,handles:null,baseShapes:null,constructor:function(_310,_311){this.handles={};this.baseShapes=[];},_getFactory:function(){return this.map.engine.getFactory(this.type);},getGeometry:function(){return this._getGeometry();},_getGeometry:function(){var _312=this.geometry;if(!_312){var _313=this.geometryId||this.id;if(_313){_312=this.map.getGeometryById(_313);}}return _312;},setGeometry:function(_314){delete this._geometry;this.geometry=_314;},render:function(_315,mode){this.map.methods.Placemark.render.call(this,_315,mode);},_render:function(_316,mode){var _317=this.getGeometry();if(!_317||!_317.coordinates||!(_317.type in _30f)){this.invalid=true;return;}var _318=this.map.engine.factories.Placemark;if(!_316){for(var i=this.baseShapes.length-1;i>=0;i--){this.map.engine.destroy(this.baseShapes.pop(),this);}}if(this.extraShapes){for(var i=this.extraShapes.length-1;i>=0;i--){this.map.engine.destroy(this.extraShapes.pop(),this);}}var _319=s.calculateStyle(this,mode);var _31a="point";if(_317.type=="Polygon"||_317.type=="MultiPolygon"){_31a="polygon";}else{if(_317.type=="LineString"||_317.type=="MultiLineString"){_31a="line";}}if(_316){_31b(_31a,this,_317,_319,_318);}else{if(_318.multipleSymbolizers&&_319[_31a]){dojo.forEach(_319[_31a],function(_31c){var _31d=_318.createShape(this,_317);if(_31d){this.baseShapes.push(_31d);}},this);}else{var _31e=_318.createShape(this,_317);if(_31e){this.baseShapes.push(_31e);}}_31b(_31a,this,_317,_319,_318);if(_319[_31a]){dojo.forEach(this.baseShapes,function(_31f){this.map.engine.appendChild(_31f,this);},this);}else{this.map.engine.appendChild(this.baseShapes[0],this);}}},remove:function(){var _320=this._getFactory(this.type);_320.remove(this);},getBbox:function(){var _321=this.getGeometry();return _321?(_321.bbox?_321.bbox:u.bbox.get(_321)):null;},connectWithHandle:function(_322,_323,_324,_325){if(this.invalid){return _322;}_323=dojo.isString(_323)?[_323]:_323;var _326=this.handles[_322];if(_326){var _327=_326[3];dojo.forEach(_327,function(_328){if(_328){this.map.engine.disconnect(_328);}},this);}var _327=[];var _326=[_323,_324,_325,_327];var _329=0;_325=dojo.hitch(_324,_325);dojo.forEach(_323,function(_32a){if(g.events[_32a]){var _32b=this;_327.push(this.map.engine.connect(this,_32a,u.normalizeCallback(_32b,_32a,_325)));_329++;}else{_327.push(null);}},this);if(!_329){return _322;}_322=_322||u.getUniqueNumber();if(!this.handles[_322]){this.handles[_322]=_326;}return _322;},disconnect:function(_32c){var _32d=this.handles[_32c];if(_32d){var _32e=_32d[3];dojo.forEach(_32e,function(_32f){this.map.engine.disconnect(_32f);},this);delete this.handles[_32c];}}});var p=g.Placemark.prototype;if(!g.methods){g.methods={};}g.methods.Placemark={render:p._render};var _31b=function(_330,_331,_332,_333,_334){switch(_330){case "point":_334.applyPointStyle(_331,_332,_333);break;case "line":_334.applyLineStyle(_331,_332,_333);break;case "polygon":_334.applyPolygonStyle(_331,_332,_333);break;case "text":_334.applyTextStyle(_331,_332,_333);break;}};g.featureTypes.Feature=g.Placemark;g.featureTypes.Placemark=g.Placemark;}());}if(!dojo._hasResource["course.geo.Map"]){dojo._hasResource["course.geo.Map"]=true;dojo.provide("course.geo.Map");(function(){var g=course.geo;var _335={type:"gfx",options:{}};var _336=function(map){if(!map.methods){map.methods={};}for(var type in g.methods){if(!map.methods[type]){map.methods[type]={};}dojo.mixin(map.methods[type],g.methods[type]);}};dojo.declare("course.geo.Map",null,{engine:null,methods:null,extent:null,features:null,geometries:null,featureContainer:null,attributesInFeature:true,renderModels:true,styleById:null,styleByFid:null,styleByClass:null,styleByClassAndFid:null,featuresByClass:null,constructor:function(_337,_338){this.styleById={};this.styleByFid={};this.styleByClass={};this.styleByClassAndFid={};this.featuresByClass={};_336(this);this.container=_337;if(!_338){_338={};}dojo.mixin(this,_338);this.features={};this.geometries={};if(_338.geometries){this.loadGeometries(_338.geometries);}this.featureContainer=new course.geo.FeatureContainer(null,{map:this,parent:this});this.document=this.featureContainer;this.addStyle(course.geo.styling.style,true);if(_338.style){this.addStyle(_338.style,true);}this.setEngine(_338.engine||(dojo.config&&dojo.config.mapEngine)||_335);if(_338.features){this.addFeatures(_338.features,true);}},ready:function(_339){if(!this.engine.isInitialized()){this.engine.initialize(dojo.hitch(this,function(){this.render();if(_339){_339();}}));}},addFeatures:function(_33a,_33b){this.document.addFeatures(_33a,_33b);},removeFeatures:function(_33c){this.document.removeFeatures(_33c);},render:function(_33d,mode){this.methods.Map.render.call(this,_33d,mode);},_render:function(_33e,mode){if(!this.extent){this.extent=this.getBbox();}this._calculateViewport();this.engine.prepare();this.document._render(_33e,mode);},renderFeatures:function(_33f,_340,mode){this.methods.Map.renderFeatures.call(this,_33f,_340,mode);},_renderFeatures:function(_341,_342,mode){if(dojo.isArray(_341)){dojo.forEach(_341,function(_343){_343._render(_342,mode);},this);}else{for(var fid in _341){_341[fid]._render(_342,mode);}}},resize:function(_344,_345){this._calculateViewport(_344,_345);this.render();},getContainer:function(){return this.engine.getTopContainer();},resize:function(_346,_347){this.width=_346;this.height=_347;this.render();},_calculateViewport:function(){var _348=dojo.contentBox(this.container);var _349=dojo.coords(this.container);this.width=this.width||_348.w||100;this.height=this.height||_348.h||100;this.x=_349.x;this.y=_349.y;},loadGeometries:function(_34a){if(dojo.isString(_34a)){dojo.xhrGet({url:_34a,handleAs:"json",sync:true,load:dojo.hitch(this,function(_34b){this.loadGeometries(_34b);})});}else{if(dojo.isArray(_34a)){dojo.forEach(_34a,function(_34c){if(_34c.id){this.geometries[_34c.id]=_34c;}},this);}else{this.geometries=_34a;}}},addStyle:function(_34d,_34e){this.document.addStyle(_34d);if(!_34e){this.document._render(true);}},setStyle:function(_34f){this.document.setStyle(_34f);},getGeometryById:function(id){return this.geometries[id];},getStyleById:function(id){return this.styleById[id];},registerFeature:function(_350){if(_350.id){this.features[_350.id]=_350;}},getFeatureById:function(id){return this.features[id];},connect:function(_351,_352,_353){return this.featureContainer.connect(_351,_352,_353);},connectWithHandle:function(_354,_355,_356,_357){return this.featureContainer.connectWithHandle(_354,_355,_356,_357);},disconnect:function(_358){this.featureContainer.disconnect(_358);},setEngine:function(_359){var req=dojo.require;if(dojo.isString(_359)){_359={type:_359};}if(!_359.declaredClass){var _35a={map:this};if(_359.options){dojo.mixin(_35a,_359.options);}req("course.geo."+_359.type+".Engine");_359=new course.geo[_359.type].Engine(_35a);}for(dependency in _35b){req("course.geo."+_359.type+"."+dependency,true);}this.engine=_359;},getBbox:function(){return this.document.getBbox();},destroy:function(){this.engine.destroy();},getMapGeometry:function(_35c){return _35c;},executeBatch:function(_35d){var _35e=this.engine;if(_35e.executeBatch){_35e.executeBatch(_35d);}else{_35d();}}});var _35b={};g.setDependency=function(_35f){_35b[_35f]=1;};var p=g.Map.prototype;if(!g.methods){g.methods={};}g.methods.Map={render:p._render,renderFeatures:p._renderFeatures};}());}if(!dojo._hasResource["course.geo.control.Base"]){dojo._hasResource["course.geo.control.Base"]=true;dojo.provide("course.geo.control.Base");dojo.declare("course.geo.control.Base",null,{targets:null,handle:null,enabled:true,constructor:function(map,_360){this.map=map;if(!_360){_360={};}this.handle=course.geo.util.getUniqueNumber();var _361=_360.targets?_360.targets:[map];if(!dojo.isArray(_361)){_361=[_361];}this.targets=[];dojo.forEach(_361,function(_362){if(dojo.isString(_362)){_362=this.map.getFeatureById(_362);}this.targets.push(_362);},this);this.events=["onmouseover","onmouseout"];},attachFactory:function(){var _363=this.map.engine.getFactory(this.factoryType);if(_363){dojo.mixin(this,_363);this.init();if(this.enabled){this.enable();}}},enable:function(){dojo.forEach(this.targets,function(_364){_364.connectWithHandle(this.handle,this.events,this,"process");},this);this.enabled=true;},disable:function(){this._disconnectEvents();},_disconnectEvents:function(){dojo.forEach(this.targets,function(_365){_365.disconnect(this.handle);},this);this.enabled=false;},reset:function(){},destroy:function(){this.disable();}});}if(!dojo._hasResource["course.geo.control.Tooltip"]){dojo._hasResource["course.geo.control.Tooltip"]=true;dojo.provide("course.geo.control.Tooltip");(function(){var _366=function(_367){return _367.tooltip||_367.name||_367.id;};dojo.declare("course.geo.control.Tooltip",course.geo.control.Base,{factoryType:"control.Tooltip",constructor:function(map,_368){this.text=_368&&_368.text?_368.text:_366;this.attachFactory(this.enabled);},process:function(){}});})();}if(!dojo._hasResource["course.geo.control.Highlight"]){dojo._hasResource["course.geo.control.Highlight"]=true;dojo.provide("course.geo.control.Highlight");(function(){var _369=100,_36a=75,_36b=50,c=dojox.color,cc=function(_36c){return function(){return _36c;};},hl=function(_36d){var a=new c.Color(_36d),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_369;if(x.l<_36b){x.l=_36a;}else{if(x.l>_36a){x.l=_36b;}else{x.l=x.l-_36b>_36a-x.l?_36b:_36a;}}}return c.fromHsl(x);},_36e=1.2;dojo.declare("course.geo.control.Highlight",course.geo.control.Base,{factoryType:"control.Highlight",constructor:function(map,_36f){var _370=_36f&&_36f.highlight;this.colorFun=_370?(dojo.isFunction(_370)?_370:cc(_370)):hl;this.scale=_36f&&typeof _36f.scale=="number"?_36f.scale:_36e;this.attachFactory(this.enabled);},process:function(_371){}});})();}if(!dojo._hasResource["course.geo.util.numeric"]){dojo._hasResource["course.geo.util.numeric"]=true;dojo.provide("course.geo.util.numeric");(function(){var n=course.geo.util.numeric;n.composeArray=function(_372,attr,_373,_374){var _375=[];dojo.forEach(_372.features,function(_376){var _377=_376.get(attr);if(!isNaN(_377)){_375.push(_377);}});if(_373){_374=_374?function(a,b){return (a-b);}:null;_375.sort(_374);}return _375;};n.getBreakIndex=function(_378,_379,_37a){for(var i=0;i<_379;i++){if(i==0){if(_378[0]<=_37a&&_37a<=_378[1]){break;}}else{if(_378[i]<_37a&&_37a<=_378[i+1]){break;}}}return (i<_379)?i:-1;};}());}if(!dojo._hasResource["course.geo.util.colorbrewer_data"]){dojo._hasResource["course.geo.util.colorbrewer_data"]=true;dojo.provide("course.geo.util.colorbrewer_data");course.geo.util.colorbrewer_data={"qual":{"3":{"Pastel2":{"colors":["#b3e2cd","#fdcdac","#cbd5e8"]},"Pastel1":{"colors":["#fbb4ae","#b3cde3","#ccebc5"]},"Dark2":{"colors":["#1b9e77","#d95f02","#7570b3"]},"Accent":{"colors":["#7fc97f","#beaed4","#fdc086"]},"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a"]},"Set1":{"colors":["#e41a1c","#377eb8","#4daf4a"]},"Set2":{"colors":["#66c2a5","#fc8d62","#8da0cb"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada"]}},"4":{"Pastel2":{"colors":["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"]},"Pastel1":{"colors":["#fbb4ae","#b3cde3","#ccebc5","#decbe4"]},"Dark2":{"colors":["#1b9e77","#d95f02","#7570b3","#e7298a"]},"Accent":{"colors":["#7fc97f","#beaed4","#fdc086","#ffff99"]},"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c"]},"Set1":{"colors":["#e41a1c","#377eb8","#4daf4a","#984ea3"]},"Set2":{"colors":["#66c2a5","#fc8d62","#8da0cb","#e78ac3"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072"]}},"5":{"Pastel2":{"colors":["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"]},"Pastel1":{"colors":["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"]},"Dark2":{"colors":["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"]},"Accent":{"colors":["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"]},"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"]},"Set1":{"colors":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"]},"Set2":{"colors":["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"]}},"6":{"Pastel2":{"colors":["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"]},"Pastel1":{"colors":["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"]},"Dark2":{"colors":["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"]},"Accent":{"colors":["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"]},"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"]},"Set1":{"colors":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"]},"Set2":{"colors":["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"]}},"7":{"Pastel2":{"colors":["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"]},"Pastel1":{"colors":["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"]},"Dark2":{"colors":["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"]},"Accent":{"colors":["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"]},"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"]},"Set1":{"colors":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"]},"Set2":{"colors":["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"]}},"8":{"Pastel2":{"colors":["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},"Pastel1":{"colors":["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"]},"Dark2":{"colors":["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},"Accent":{"colors":["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"]},"Set1":{"colors":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"]},"Set2":{"colors":["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"]}},"9":{"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"]},"Pastel1":{"colors":["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},"Set1":{"colors":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"]}},"10":{"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"]}},"11":{"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"]}},"12":{"Paired":{"colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},"Set3":{"colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}}},"div":{"3":{"Spectral":{"colors":["#fc8d59","#ffffbf","#99d594"],"critVal":2},"RdYlGn":{"colors":["#fc8d59","#ffffbf","#91cf60"],"critVal":2},"PRGn":{"colors":["#af8dc3","#f7f7f7","#7fbf7b"],"critVal":2},"RdBu":{"colors":["#ef8a62","#f7f7f7","#67a9cf"],"critVal":2},"RdGy":{"colors":["#ef8a62","#ffffff","#999999"],"critVal":2},"RdYlBu":{"colors":["#fc8d59","#ffffbf","#91bfdb"],"critVal":2},"PiYG":{"colors":["#e9a3c9","#f7f7f7","#a1d76a"],"critVal":2},"PuOr":{"colors":["#f1a340","#f7f7f7","#998ec3"],"critVal":2},"BrBG":{"colors":["#d8b365","#f5f5f5","#5ab4ac"],"critVal":2}},"4":{"Spectral":{"colors":["#d7191c","#fdae61","#abdda4","#2b83ba"],"critVal":2.5},"RdYlGn":{"colors":["#d7191c","#fdae61","#a6d96a","#1a9641"],"critVal":2.5},"PRGn":{"colors":["#7b3294","#c2a5cf","#a6dba0","#008837"],"critVal":2.5},"RdBu":{"colors":["#ca0020","#f4a582","#92c5de","#0571b0"],"critVal":2.5},"RdGy":{"colors":["#ca0020","#f4a582","#bababa","#404040"],"critVal":2.5},"RdYlBu":{"colors":["#d7191c","#fdae61","#abd9e9","#2c7bb6"],"critVal":2.5},"PiYG":{"colors":["#d01c8b","#f1b6da","#b8e186","#4dac26"],"critVal":2.5},"PuOr":{"colors":["#e66101","#fdb863","#b2abd2","#5e3c99"],"critVal":2.5},"BrBG":{"colors":["#a6611a","#dfc27d","#80cdc1","#018571"],"critVal":2.5}},"5":{"Spectral":{"colors":["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],"critVal":3},"RdYlGn":{"colors":["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],"critVal":3},"PRGn":{"colors":["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],"critVal":3},"RdBu":{"colors":["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],"critVal":3},"RdGy":{"colors":["#ca0020","#f4a582","#ffffff","#bababa","#404040"],"critVal":3},"RdYlBu":{"colors":["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],"critVal":3},"PiYG":{"colors":["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],"critVal":3},"PuOr":{"colors":["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],"critVal":3},"BrBG":{"colors":["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],"critVal":3}},"6":{"Spectral":{"colors":["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],"critVal":3.5},"RdYlGn":{"colors":["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],"critVal":3.5},"PRGn":{"colors":["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],"critVal":3.5},"RdBu":{"colors":["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],"critVal":3.5},"RdGy":{"colors":["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],"critVal":3.5},"RdYlBu":{"colors":["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],"critVal":3.5},"PiYG":{"colors":["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],"critVal":3.5},"PuOr":{"colors":["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],"critVal":3.5},"BrBG":{"colors":["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],"critVal":3.5}},"7":{"Spectral":{"colors":["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],"critVal":4},"RdYlGn":{"colors":["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],"critVal":4},"PRGn":{"colors":["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],"critVal":4},"RdBu":{"colors":["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],"critVal":4},"RdGy":{"colors":["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],"critVal":4},"RdYlBu":{"colors":["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],"critVal":4},"PiYG":{"colors":["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],"critVal":4},"PuOr":{"colors":["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],"critVal":4},"BrBG":{"colors":["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],"critVal":4}},"8":{"Spectral":{"colors":["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],"critVal":4.5},"RdYlGn":{"colors":["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],"critVal":4.5},"PRGn":{"colors":["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],"critVal":4.5},"RdBu":{"colors":["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],"critVal":4.5},"RdGy":{"colors":["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],"critVal":4.5},"RdYlBu":{"colors":["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],"critVal":4.5},"PiYG":{"colors":["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],"critVal":4.5},"PuOr":{"colors":["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],"critVal":4.5},"BrBG":{"colors":["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],"critVal":4.5}},"9":{"Spectral":{"colors":["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],"critVal":5},"RdYlGn":{"colors":["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],"critVal":5},"PRGn":{"colors":["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],"critVal":5},"RdBu":{"colors":["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],"critVal":5},"RdGy":{"colors":["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],"critVal":5},"RdYlBu":{"colors":["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],"critVal":5},"PiYG":{"colors":["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],"critVal":5},"PuOr":{"colors":["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],"critVal":5},"BrBG":{"colors":["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],"critVal":5}},"10":{"Spectral":{"colors":["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],"critVal":5.5},"RdYlGn":{"colors":["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],"critVal":5.5},"PRGn":{"colors":["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],"critVal":5.5},"RdBu":{"colors":["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],"critVal":5.5},"RdGy":{"colors":["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],"critVal":5.5},"RdYlBu":{"colors":["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],"critVal":5.5},"PiYG":{"colors":["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],"critVal":5.5},"PuOr":{"colors":["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],"critVal":5.5},"BrBG":{"colors":["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],"critVal":5.5}},"11":{"Spectral":{"colors":["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],"critVal":6},"RdYlGn":{"colors":["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],"critVal":6},"PRGn":{"colors":["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],"critVal":6},"RdBu":{"colors":["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],"critVal":6},"RdGy":{"colors":["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],"critVal":6},"RdYlBu":{"colors":["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],"critVal":6},"PiYG":{"colors":["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],"critVal":6},"PuOr":{"colors":["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],"critVal":6},"BrBG":{"colors":["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],"critVal":6}}},"seq":{"3":{"Reds":{"colors":["#fee0d2","#fc9272","#de2d26"]},"YlOrRd":{"colors":["#ffeda0","#feb24c","#f03b20"]},"RdPu":{"colors":["#fde0dd","#fa9fb5","#c51b8a"]},"YlOrBr":{"colors":["#fff7bc","#fec44f","#d95f0e"]},"Greens":{"colors":["#e5f5e0","#a1d99b","#31a354"]},"YlGnBu":{"colors":["#edf8b1","#7fcdbb","#2c7fb8"]},"GnBu":{"colors":["#e0f3db","#a8ddb5","#43a2ca"]},"BuPu":{"colors":["#e0ecf4","#9ebcda","#8856a7"]},"Greys":{"colors":["#f0f0f0","#bdbdbd","#636363"]},"Oranges":{"colors":["#fee6ce","#fdae6b","#e6550d"]},"OrRd":{"colors":["#fee8c8","#fdbb84","#e34a33"]},"BuGn":{"colors":["#e5f5f9","#99d8c9","#2ca25f"]},"PuBu":{"colors":["#ece7f2","#a6bddb","#2b8cbe"]},"PuRd":{"colors":["#e7e1ef","#c994c7","#dd1c77"]},"Blues":{"colors":["#deebf7","#9ecae1","#3182bd"]},"PuBuGn":{"colors":["#ece2f0","#a6bddb","#1c9099"]},"YlGn":{"colors":["#f7fcb9","#addd8e","#31a354"]},"Purples":{"colors":["#efedf5","#bcbddc","#756bb1"]}},"4":{"Reds":{"colors":["#fee5d9","#fcae91","#fb6a4a","#cb181d"]},"YlOrRd":{"colors":["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"]},"RdPu":{"colors":["#feebe2","#fbb4b9","#f768a1","#ae017e"]},"YlOrBr":{"colors":["#ffffd4","#fed98e","#fe9929","#cc4c02"]},"Greens":{"colors":["#edf8e9","#bae4b3","#74c476","#238b45"]},"YlGnBu":{"colors":["#ffffcc","#a1dab4","#41b6c4","#225ea8"]},"GnBu":{"colors":["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"]},"BuPu":{"colors":["#edf8fb","#b3cde3","#8c96c6","#88419d"]},"Greys":{"colors":["#f7f7f7","#cccccc","#969696","#525252"]},"Oranges":{"colors":["#feedde","#fdbe85","#fd8d3c","#d94701"]},"OrRd":{"colors":["#fef0d9","#fdcc8a","#fc8d59","#d7301f"]},"BuGn":{"colors":["#edf8fb","#b2e2e2","#66c2a4","#238b45"]},"PuBu":{"colors":["#f1eef6","#bdc9e1","#74a9cf","#0570b0"]},"PuRd":{"colors":["#f1eef6","#d7b5d8","#df65b0","#ce1256"]},"Blues":{"colors":["#eff3ff","#bdd7e7","#6baed6","#2171b5"]},"PuBuGn":{"colors":["#f6eff7","#bdc9e1","#67a9cf","#02818a"]},"YlGn":{"colors":["#ffffcc","#c2e699","#78c679","#238443"]},"Purples":{"colors":["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"]}},"5":{"Reds":{"colors":["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"]},"YlOrRd":{"colors":["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"]},"RdPu":{"colors":["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"]},"YlOrBr":{"colors":["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"]},"Greens":{"colors":["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"]},"YlGnBu":{"colors":["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"]},"GnBu":{"colors":["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"]},"BuPu":{"colors":["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"]},"Greys":{"colors":["#f7f7f7","#cccccc","#969696","#636363","#252525"]},"Oranges":{"colors":["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"]},"OrRd":{"colors":["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"]},"BuGn":{"colors":["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"]},"PuBu":{"colors":["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"]},"PuRd":{"colors":["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"]},"Blues":{"colors":["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"]},"PuBuGn":{"colors":["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"]},"YlGn":{"colors":["#ffffcc","#c2e699","#78c679","#31a354","#006837"]},"Purples":{"colors":["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"]}},"6":{"Reds":{"colors":["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"]},"YlOrRd":{"colors":["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"]},"RdPu":{"colors":["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"]},"YlOrBr":{"colors":["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"]},"Greens":{"colors":["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"]},"YlGnBu":{"colors":["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"]},"GnBu":{"colors":["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"]},"BuPu":{"colors":["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"]},"Greys":{"colors":["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"]},"Oranges":{"colors":["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]},"OrRd":{"colors":["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"]},"BuGn":{"colors":["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"]},"PuBu":{"colors":["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"]},"PuRd":{"colors":["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"]},"Blues":{"colors":["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"]},"PuBuGn":{"colors":["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"]},"YlGn":{"colors":["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"]},"Purples":{"colors":["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"]}},"7":{"Reds":{"colors":["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"]},"YlOrRd":{"colors":["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"]},"RdPu":{"colors":["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"]},"YlOrBr":{"colors":["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"]},"Greens":{"colors":["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"]},"YlGnBu":{"colors":["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"]},"GnBu":{"colors":["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"]},"BuPu":{"colors":["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"]},"Greys":{"colors":["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"]},"Oranges":{"colors":["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"]},"OrRd":{"colors":["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"]},"BuGn":{"colors":["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"]},"PuBu":{"colors":["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"]},"PuRd":{"colors":["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"]},"Blues":{"colors":["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"]},"PuBuGn":{"colors":["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"]},"YlGn":{"colors":["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"]},"Purples":{"colors":["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"]}},"8":{"Reds":{"colors":["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"]},"YlOrRd":{"colors":["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"]},"RdPu":{"colors":["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"]},"YlOrBr":{"colors":["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"]},"Greens":{"colors":["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"]},"YlGnBu":{"colors":["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"]},"GnBu":{"colors":["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"]},"BuPu":{"colors":["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"]},"Greys":{"colors":["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"]},"Oranges":{"colors":["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"]},"OrRd":{"colors":["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"]},"BuGn":{"colors":["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"]},"PuBu":{"colors":["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"]},"PuRd":{"colors":["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"]},"Blues":{"colors":["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"]},"PuBuGn":{"colors":["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"]},"YlGn":{"colors":["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"]},"Purples":{"colors":["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"]}},"9":{"Reds":{"colors":["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},"YlOrRd":{"colors":["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},"RdPu":{"colors":["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},"YlOrBr":{"colors":["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},"Greens":{"colors":["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},"YlGnBu":{"colors":["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},"GnBu":{"colors":["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},"BuPu":{"colors":["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},"Greys":{"colors":["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},"Oranges":{"colors":["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},"OrRd":{"colors":["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},"BuGn":{"colors":["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},"PuBu":{"colors":["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},"PuRd":{"colors":["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},"Blues":{"colors":["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},"PuBuGn":{"colors":["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},"YlGn":{"colors":["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},"Purples":{"colors":["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]}}}};}if(!dojo._hasResource["course.geo.util.colorbrewer"]){dojo._hasResource["course.geo.util.colorbrewer"]=true;dojo.provide("course.geo.util.colorbrewer");(function(){var u=course.geo.util,n=u.numeric,cb=u.colorbrewer,cbd=u.colorbrewer_data;cb.getStyle=function(_37b,_37c,_37d){var _37e=_37d.options,_37f=dojo.isString(_37e.getBreaks)?dojo.getObject(_37e.getBreaks):_37e.getBreaks,_380=_37b.get(_37e.attr),_381=_37b.parent,_382=_381._breaks;if(!_382||_37d.updated>_381._breaksTimestamp){_382=_37f(_381,_37d.options);_381._breaks=_382;_381._breaksTimestamp=(new Date()).getTime();}var _383=n.getBreakIndex(_382,_37e.numClasses,_380);if(_383<_37e.numClasses){_37c.fill=cbd["seq"][_37e.numClasses][_37e.colorSchemeName].colors[_383];}};cb.getLegend=function(_384,_385,_386,name){var html="",_387=_385.styleFunction.options;dojo.forEach(_386,function(_388){var _389=_388._breaks;if(name){html+=name+"<br>";}html+="<div style='padding-left:20px'>";for(var i=0;i<_387.numClasses;i++){var _38a=cbd["seq"][_387.numClasses][_387.colorSchemeName].colors[i];html+="<span style='background-color:"+_38a+"'>&nbsp;&nbsp;&nbsp;&nbsp;</span> "+_389[i]+"..."+_389[i+1]+"<br>";}html+="</div>";});_384.innerHTML=html;};}());}if(!dojo._hasResource["course.geo.util.jenks"]){dojo._hasResource["course.geo.util.jenks"]=true;dojo.provide("course.geo.util.jenks");(function(){var u=course.geo.util,j=u.jenks,n=u.numeric;j.getBreaks=function(_38b,_38c){var _38d=dojo.isArray(_38b)?_38b:n.composeArray(_38b,_38c.attr,true,true);if(!_38d.length){return;}breaks=_38e(_38d,_38c.numClasses);if(!breaks.length){return;}return breaks;};var _38e=function(_38f,_390){var _391=_38f.length;var mat1=[];for(var i=0;i<=_391;i++){var temp=[];for(var j=0;j<=_390;j++){temp.push[0];}mat1.push(temp);}var mat2=[];for(var i=0;i<=_391;i++){var temp=[];for(var j=0;j<=_390;j++){temp.push[0];}mat2.push(temp);}for(var i=1;i<=_390;i++){mat1[1][i]=1;mat2[1][i]=0;for(var j=2;j<=_391;j++){mat2[j][i]=Infinity;}}v=0;for(var l=2;l<=_391;l++){var s1=0;var s2=0;var w=0;for(var m=1;m<=l;m++){var i3=l-m+1;var val=parseFloat(_38f[i3-1]);s2+=val*val;s1+=val;w+=1;v=s2-(s1*s1)/w;var i4=i3-1;if(i4!=0){for(var j=2;j<=_390;j++){if(mat2[l][j]>=(v+mat2[i4][j-1])){mat1[l][j]=i3;mat2[l][j]=v+mat2[i4][j-1];}}}}mat1[l][1]=1;mat2[l][1]=v;}k=_391;var _392=[];for(var j=0;j<=_390;j++){_392.push(0);}_392[_390]=parseFloat(_38f[_391-1]);_392[0]=parseFloat(_38f[0]);var _393=_390;while(_393>=2){var id=parseInt((mat1[k][_393])-2);_392[_393-1]=_38f[id];k=parseInt((mat1[k][_393]-1));_393-=1;}return _392;};}());}if(!dojo._hasResource["course.geo.widget.Legend"]){dojo._hasResource["course.geo.widget.Legend"]=true;dojo.provide("course.geo.widget.Legend");dojo.declare("course.geo.widget.Legend",[dijit._Widget,dijit._Templated],{templateString:"<table dojoAttachPoint='legendNode' class='dojoxLegendNode' role='group' aria-label='map legend'><tbody dojoAttachPoint='legendBody'></tbody></table>",legendNode:null,legendBody:null,postCreate:function(){if(!this.map){return;}this.refresh();},refresh:function(){while(this.legendBody.lastChild){dojo.destroy(this.legendBody.lastChild);}var m=this.map,_394=m.styleByClass;for(var _395 in _394){this._processStyle(_394[_395],m.featuresByClass[_395]);}this._processInlineStyle(m.document);},_processInlineStyle:function(_396){if(_396.style){this._processStyle(_396.style,[_396]);}dojo.forEach(_396.features,function(_397){if(_397.type=="FeatureContainer"){this._processInlineStyle(_397);}else{if(_397.style){this._processStyle(_397.style,[_397]);}}},this);},_processStyle:function(_398,_399){dojo.forEach(_398,function(_39a){var tr=dojo.create("tr",null,this.legendBody),td=dojo.create("td",null,tr),name=(this.getName)?this.getName(_39a):_39a.def.name;if(_39a.styleFunction){var _39b=_39a.styleFunction.getLegend;if(_39b){_39b=dojo.isString(_39b)?dojo.getObject(_39b):_39b;_39b(td,_39a,_399,name);}}},this);}});}(function(){var _39c=function(url){var _39d={};if(url.indexOf("?")>-1){var str=url.substr(url.indexOf("?")+1);var _39e=str.split(/&/);for(var i=0;i<_39e.length;i++){var _39f=_39e[i].split(/=/);var key=_39f[0];var _3a0=_39f[1];_39d[key]=_3a0;}}return _39d;};var _3a1=_39c(window.location.href);if(_3a1.gfxRenderer){djConfig.gfxRenderer=_3a1.gfxRenderer;}if(_3a1.mapEngine){djConfig.mapEngine=_3a1.mapEngine;}DebugUtil={timer:{_cache:{},start:function(id){if(!id){this.defaultTimer=(new Date()).getTime();}else{this._cache[id]=(new Date()).getTime();}},end:function(id,msg,_3a2,_3a3){if(id&&!this._cache[id]){msg=id;id=null;}var t=this.getTime(id);var _3a4=id?this._cache[id]:this.defaultTimer;if(!_3a2){console.debug((msg||id||"")+": "+t+"ms");}if(_3a3){_3a3(t);}return t;},getTime:function(id){return (new Date()).getTime()-(id?this._cache[id]:this.defaultTimer);},trackFunction:function(obj,_3a5,msg){obj=obj||window;var func=obj[_3a5];var self=this;obj[_3a5]=function(){var _3a6=(new Date()).getTime()+"";self.start(_3a6);var re=func.apply(obj,arguments);var arr=[];for(var i=0;i<arguments.length;i++){arr.push(arguments[i]+"");}self.end(_3a6,msg||("Function \""+_3a5+"("+arr.join(",")+")"+"\" execution time"));return re;};}}};DebugUtil.timer.start("loading");var u=course.geo.util,n=u.numeric,j=u.jenks,cbd=u.colorbrewer_data;DebugUtil.timer.end("loading");var _3a7={getLegend:"course.geo.util.colorbrewer.getLegend",getStyle:"course.geo.util.colorbrewer.getStyle",options:{getBreaks:j.getBreaks,numClasses:8,colorSchemeName:"Reds",attr:indicators[selectedIndicatorIndex].id}};var _3a8={options:{numClasses:8,attr:"AverageObjectAge",colorSchemeName:"RdBu"},getStyle:function(_3a9,_3aa,_3ab){var _3ac=_3ab.options,_3ad=_3a9.parent,_3ae=n.composeArray(_3ad,_3ac.attr,true,true),_3af=_3ae.length,_3b0=Math.ceil(_3af/2),_3b1=_3af-_3b0,_3b2=_3ae,_3b3=_3ae.splice(_3b0,_3b1),_3b4=_3a9.get(_3ac.attr),_3b5=_3ad._breaks1,_3b6=_3ad._breaks2;if(!_3b5||_3ab.updated>_3ad._breaksTimestamp){var _3b7=Math.ceil(_3ac.numClasses/2);_3b5=j.getBreaks(_3b2,{numClasses:_3b7});var _3b8=_3ac.numClasses-_3b7;_3b6=j.getBreaks(_3b3,{numClasses:_3b8});_3ad._breaks1=_3b5;_3ad._breaks2=_3b6;_3ad._breaksTimestamp=(new Date()).getTime();}var _3b7=_3b5.length-1,_3b8=_3b6.length-1;var fill;if(_3b4<=_3b5[_3b7]){var _3b9=n.getBreakIndex(_3b5,_3b7,_3b4);if(_3b9<_3b7){fill=cbd["div"][_3ac.numClasses][_3ac.colorSchemeName].colors[_3b9];}}else{var _3b9=n.getBreakIndex(_3b6,_3b8,_3b4);if(_3b9<_3b8){fill=cbd["div"][_3ac.numClasses][_3ac.colorSchemeName].colors[_3b7+_3b9];}}if(fill){_3aa.fill=fill;}},getLegend:function(_3ba,_3bb,_3bc,name){var html="",_3bd=_3bb.styleFunction.options;dojo.forEach(_3bc,function(_3be){if(name){html+=name+"<br>";}html+="<div style='padding-left:20px'>";var _3bf=_3be._breaks1,_3c0=_3bf.length-1,_3c1=_3be._breaks2,_3c2=_3c1.length-1;for(var i=0;i<_3c0;i++){var _3c3=cbd["div"][_3bd.numClasses][_3bd.colorSchemeName].colors[i];html+="<span style='background-color:"+_3c3+"'>&nbsp;&nbsp;&nbsp;&nbsp;</span> "+_3bf[i]+"..."+_3bf[i+1]+"<br>";}for(var i=0;i<_3c2;i++){var _3c3=cbd["div"][_3bd.numClasses][_3bd.colorSchemeName].colors[_3c0+i];html+="<span style='background-color:"+_3c3+"'>&nbsp;&nbsp;&nbsp;&nbsp;</span> "+_3c1[i]+"..."+_3c1[i+1]+"<br>";}html+="</div>";});_3ba.innerHTML=html;}};style.push({id:"stats",styleFunction:_3a7});var _3c4=true;var map,_3c5;dojo.ready(function(){_3c6();DebugUtil.timer.start("render");map=new course.geo.Map("map",{geometries:zkir.russia_geometries,features:statJson,style:style});map.ready(function(){new course.geo.control.Tooltip(map,{map:map,text:function(_3c7){return "<span style='font-weight:bold'>"+_3c7.MapName+"</span><br>"+indicators[selectedIndicatorIndex].name+": "+_3c7[indicators[selectedIndicatorIndex].id];}});new course.geo.control.Highlight(map,{map:map});DebugUtil.timer.end("render");_3c5=new course.geo.widget.Legend({map:map,getName:function(_3c8){return indicators[selectedIndicatorIndex].name;}},"mapLegend");});});var _3c6=function(){var _3c9=dojo.byId("indicators");dojo.forEach(indicators,function(_3ca,i){var _3cb=new dijit.form.RadioButton({id:_3ca.id,index:i,name:"indicators",value:_3ca.id,onChange:function(_3cc){if(!_3cc){return;}if(_3c4){_3c4=false;return;}selectedIndicatorIndex=this.index;if(divergingIndexes[indicators[this.index].id]){style[1].styleFunction=_3a8;}else{_3a7.options.attr=indicators[this.index].id;style[1].styleFunction=_3a7;}map.getStyleById("stats").set(style[1]);_3c5.refresh();}});dojo.place(_3cb.domNode,_3c9);dojo.place("<span>"+_3ca.name+"</span><br>",_3c9);if(i==selectedIndicatorIndex){_3cb.set("checked",true);}});};}());if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.getObject("fx.easing",true,dojo);dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["course.geo.gfx.AnimatedControl"]){dojo._hasResource["course.geo.gfx.AnimatedControl"]=true;dojo.provide("course.geo.gfx.AnimatedControl");(function(){var _3cd=400,_3ce=dojo.fx.easing.backOut;dojo.declare("course.geo.gfx.AnimatedControl",null,{constructor:function(_3cf){dojo.mixin(this,_3cf);},init:function(){if(!this.duration){this.duration=_3cd;}if(!this.easing){this.easing=_3ce;}}});})();}if(!dojo._hasResource["course.geo.gfx.feature_interaction"]){dojo._hasResource["course.geo.gfx.feature_interaction"]=true;dojo.provide("course.geo.gfx.feature_interaction");(function(){var gg=course.geo.gfx;gg.onpointeroutDelay=100;gg._pointed={cancelOnpointerout:false,onpointeroutTimeout:null,control:null};})();}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\r\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\r\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\r\n></div>\r\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_3d0,_3d1,_3d2,rtl){if(this.aroundNode&&this.aroundNode===_3d1){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_3d0;var pos=dijit.placeOnScreenAroundElement(this.domNode,_3d1,dijit.getPopupAroundAlignment((_3d2&&_3d2.length)?_3d2:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_3d1;},orient:function(node,_3d3,_3d4,_3d5,_3d6){this.connectorNode.style.top="";var _3d7=_3d5.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_3d3+"-"+_3d4];this.domNode.style.width="auto";var size=dojo.contentBox(this.domNode);var _3d8=Math.min((Math.max(_3d7,1)),size.w);var _3d9=_3d8<size.w;this.domNode.style.width=_3d8+"px";if(_3d9){this.containerNode.style.overflow="auto";var _3da=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_3da>_3d8){_3da=_3da+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");this.domNode.style.width=_3da+"px";}}if(_3d4.charAt(0)=="B"&&_3d3.charAt(0)=="B"){var mb=dojo.marginBox(node);var _3db=this.connectorNode.offsetHeight;if(mb.h>_3d5.h){var _3dc=_3d5.h-(_3d6.h/2)-(_3db/2);this.connectorNode.style.top=_3dc+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_3d6.h/2-_3db/2,0),mb.h-_3db)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_3d7);},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_3dd){if(this._onDeck&&this._onDeck[1]==_3dd){this._onDeck=null;}else{if(this.aroundNode===_3dd){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_3de,_3df,_3e0,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_3de,_3df,_3e0,rtl);};dijit.hideTooltip=function(_3e1){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_3e1);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_3e2){dojo.forEach(this._connections||[],function(_3e3){dojo.forEach(_3e3,dojo.hitch(this,"disconnect"));},this);var ary=dojo.isArrayLike(_3e2)?_3e2:(_3e2?[_3e2]:[]);this._connections=dojo.map(ary,function(id){var node=dojo.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_3e2);this._connectIds=ary;},addTarget:function(node){var id=node.id||node;if(dojo.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _3e4=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_3e4);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_3e5){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_3e5,this.position,!this.isLeftToRight());this._connectNode=_3e5;this.onShow(_3e5,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_3e6,_3e7){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["course.geo.gfx.Tooltip"]){dojo._hasResource["course.geo.gfx.Tooltip"]=true;dojo.provide("course.geo.gfx.Tooltip");(function(){var gg=course.geo.gfx,p=gg._pointed;var _3e8=-1,_3e9=2;var _3ea=["above","below"];rtl=false;var _3eb,_3ec,_3ed={type:"rect",x:0,y:0,width:0,height:0},_3ee={feature:null,tooltip:null};var _3ef=function(_3f0,_3f1,_3f2,rtl){if(!_3eb){_3eb=_3f3();}_3f4(_3f1,_3f2);_3ec=dojo.connect(_3eb.domNode,"onmousemove",function(_3f5){_3f6(_3f5);});return _3eb.show(_3f0,_3ed,_3ea,rtl);},_3f6=function(_3f7){_3f4(_3f7);dijit.placeOnScreenAroundElement(_3eb.domNode,_3ed,dijit.getPopupAroundAlignment((_3ea&&_3ea.length)?_3ea:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(_3eb,"orient"));if(dojo.isIE){_3eb.connectorNode.style.bottom="-5px";}},_3f4=function(_3f8,_3f9){if(_3f9){_3ed.control=_3f9;}else{_3f9=_3ed.control;}var p1=dojo.position(_3f9.map.container,true),p2=dojo.position(_3f9.map.container,false);_3ed.x=Math.round(_3f8.clientX+p1.x-p2.x)-_3e8;_3ed.y=Math.round(_3f8.clientY+p1.y-p2.y)-_3e9;},_3fa=function(){dojo.disconnect(_3ec);if(_3ee.tooltip){clearOnpointeroutTimeout("tooltip");}if(p.control){p.control.onpointeroutHandler.call(p.control);}if(!_3eb){_3eb=_3f3();}return _3eb.hide(_3ed);},_3f3=function(){var _3fb=new dijit._MasterTooltip();_3fc(_3fb);dojo.connect(_3fb.domNode,"onmouseover",function(){p.cancelOnpointerout=true;if(_3ee.feature){clearOnpointeroutTimeout("feature");}if(_3ee.tooltip){clearOnpointeroutTimeout("tooltip");}if(p.onpointeroutTimeout){clearTimeout(p.onpointeroutTimeout.id);p.onpointeroutTimeout=null;}});_3fb.connect(_3fb.domNode,"onmouseout",function(){p.cancelOnpointerout=false;if(_3ee.feature){clearOnpointeroutTimeout("feature");}if(_3ee.tooltip){clearOnpointeroutTimeout("tooltip");}_3ee.tooltip={id:setTimeout(function(){_3ee.tooltip=null;_3ed.control.clearFeature();_3fa();},gg.onpointeroutDelay)};});return _3fb;},_3fc=function(_3fd){_3fd.show=function(_3fe,_3ff,_400,rtl){this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_3fe;var pos=dijit.placeOnScreenAroundElement(this.domNode,_3ff,dijit.getPopupAroundAlignment((_400&&_400.length)?_400:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));if(dojo.isIE){_3fd.connectorNode.style.bottom="-5px";}dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_3ff;};};clearOnpointeroutTimeout=function(type,obj){clearTimeout(_3ee[type].id);_3ee[type]=null;};dojo.declare("course.geo.gfx.Tooltip",course.geo.gfx.AnimatedControl,{feature:null,onmousemoveHandle:null,onmouseoverTimeout:null,constructor:function(_401){this.onmousemoveHandle=course.geo.util.getUniqueNumber();},process:function(_402){var _403=_402.feature;if(_3ee.feature){clearOnpointeroutTimeout("feature");}if(_3ee.tooltip){clearOnpointeroutTimeout("tooltip");}if(_402.type=="onmouseout"){if(!p.cancelOnpointerout){_3ee.feature={feature:_403,id:setTimeout(dojo.hitch(this,this._onpointerout),gg.onpointeroutDelay)};}}else{if(_402.type=="onmousemove"){_3f6(_402.event);}else{if(_402.type=="onmouseover"){if(this.feature==_403){return;}if(this.feature){this.feature.disconnect(this.onmousemoveHandle);}this.feature=_403;_403.connectWithHandle(this.onmousemoveHandle,"onmousemove",this,"process");_3ef(this.text(_403),_402.event,this);}}}},_onpointerout:function(){_3ee.feature=null;this.clearFeature();_3fa();},clearFeature:function(){if(this.feature){this.feature.disconnect(this.onmousemoveHandle);this.feature=null;}},hideTooltip:function(){_3fa();},disable:function(){this.hideTooltip();if(this.feature){this.feature.disconnect(this.onmousemoveHandle);}this._disconnectEvents();}});})();}if(!dojo._hasResource["dojox.gfx.fx"]){dojo._hasResource["dojox.gfx.fx"]=true;dojo.provide("dojox.gfx.fx");(function(){var d=dojo,g=dojox.gfx,m=g.matrix;function _404(_405,end){this.start=_405,this.end=end;};_404.prototype.getValue=function(r){return (this.end-this.start)*r+this.start;};function _406(_407,end,_408){this.start=_407,this.end=end;this.units=_408;};_406.prototype.getValue=function(r){return (this.end-this.start)*r+this.start+this.units;};function _409(_40a,end){this.start=_40a,this.end=end;this.temp=new dojo.Color();};_409.prototype.getValue=function(r){return d.blendColors(this.start,this.end,r,this.temp);};function _40b(_40c){this.values=_40c;this.length=_40c.length;};_40b.prototype.getValue=function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];};function _40d(_40e,def){this.values=_40e;this.def=def?def:{};};_40d.prototype.getValue=function(r){var ret=dojo.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;};function _40f(_410,_411){this.stack=_410;this.original=_411;};_40f.prototype.getValue=function(r){var ret=[];dojo.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=dojo.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_412=f.apply(m,val);if(_412 instanceof m.Matrix2D){ret.push(_412);}},this);return ret;};var _413=new d.Color(0,0,0,0);function _414(prop,obj,name,def){if(prop.values){return new _40b(prop.values);}var _415,_416,end;if(prop.start){_416=g.normalizeColor(prop.start);}else{_416=_415=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_415){_415=obj?(name?obj[name]:obj):def;}end=_415;}return new _409(_416,end);};function _417(prop,obj,name,def){if(prop.values){return new _40b(prop.values);}var _418,_419,end;if(prop.start){_419=prop.start;}else{_419=_418=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _418!="number"){_418=obj?obj[name]:def;}end=_418;}return new _404(_419,end);};g.fx.animateStroke=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_41a=args.shape,_41b;d.connect(anim,"beforeBegin",anim,function(){_41b=_41a.getStroke();var prop=args.color,_41c={},_41d,_41e,end;if(prop){_41c.color=_414(prop,_41b,"color",_413);}prop=args.style;if(prop&&prop.values){_41c.style=new _40b(prop.values);}prop=args.width;if(prop){_41c.width=_417(prop,_41b,"width",1);}prop=args.cap;if(prop&&prop.values){_41c.cap=new _40b(prop.values);}prop=args.join;if(prop){if(prop.values){_41c.join=new _40b(prop.values);}else{_41e=prop.start?prop.start:(_41b&&_41b.join||0);end=prop.end?prop.end:(_41b&&_41b.join||0);if(typeof _41e=="number"&&typeof end=="number"){_41c.join=new _404(_41e,end);}}}this.curve=new _40d(_41c,_41b);});d.connect(anim,"onAnimate",_41a,"setStroke");return anim;};g.fx.animateFill=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_41f=args.shape,fill;d.connect(anim,"beforeBegin",anim,function(){fill=_41f.getFill();var prop=args.color,_420={};if(prop){this.curve=_414(prop,fill,"",_413);}});d.connect(anim,"onAnimate",_41f,"setFill");return anim;};g.fx.animateFont=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_421=args.shape,font;d.connect(anim,"beforeBegin",anim,function(){font=_421.getFont();var prop=args.style,_422={},_423,_424,end;if(prop&&prop.values){_422.style=new _40b(prop.values);}prop=args.variant;if(prop&&prop.values){_422.variant=new _40b(prop.values);}prop=args.weight;if(prop&&prop.values){_422.weight=new _40b(prop.values);}prop=args.family;if(prop&&prop.values){_422.family=new _40b(prop.values);}prop=args.size;if(prop&&prop.units){_424=parseFloat(prop.start?prop.start:(_421.font&&_421.font.size||"0"));end=parseFloat(prop.end?prop.end:(_421.font&&_421.font.size||"0"));_422.size=new _406(_424,end,prop.units);}this.curve=new _40d(_422,font);});d.connect(anim,"onAnimate",_421,"setFont");return anim;};g.fx.animateTransform=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_425=args.shape,_426;d.connect(anim,"beforeBegin",anim,function(){_426=_425.getTransform();this.curve=new _40f(args.transform,_426);});d.connect(anim,"onAnimate",_425,"setTransform");return anim;};})();}if(!dojo._hasResource["course.geo.gfx.Highlight"]){dojo._hasResource["course.geo.gfx.Highlight"]=true;dojo.provide("course.geo.gfx.Highlight");(function(){var gg=course.geo.gfx,p=gg._pointed;dojo.declare("course.geo.gfx.Highlight",course.geo.gfx.AnimatedControl,{highlightedFeature:null,constructor:function(_427){},process:function(_428){var _429=_428.feature,fid=_429.id,_42a,end,anim,_42b=[],step;if(_428.type=="onmouseover"){var _42c;if(p.onpointeroutTimeout){var _42c=p.onpointeroutTimeout.feature;clearTimeout(p.onpointeroutTimeout.id);p.onpointeroutTimeout=null;if(_42c==_429){return;}else{_42c.render(true);}}if(this.highlightedFeature){if(this.highlightedFeature==_429){return;}else{if(this.highlightedFeature!=_42c){this.highlightedFeature.render(true);}}}this.highlightedFeature=_429;if(p.control!=this){p.control=this;}_429.render(true,"highlight");}else{if(!p.cancelOnpointerout){p.onpointeroutTimeout={feature:_429,id:setTimeout(dojo.hitch(this,this._onpointerout),gg.onpointeroutDelay)};}}},_onpointerout:function(){var _42d=p.onpointeroutTimeout.feature;p.onpointeroutTimeout=null;this.highlightedFeature=null;_42d.render(true);},onpointeroutHandler:function(){if(this.highlightedFeature){this.highlightedFeature.render(true);this.highlightedFeature=null;}},_getAnimateFill:function(_42e,_42f,anim){var _430=_42e.baseShapes[0].getFill();if(anim){anim.action.stop(true);}else{anim=this.anim[_42e.id];anim.start=_430;anim.end=this.colorFun(_430);}start=_430;if(_42f.type=="onmouseover"){end=anim.end;}else{end=anim.start;}var _431={shape:_42e.baseShapes[0],duration:this.duration,easing:this.easing,color:{start:start,end:end}};return dojox.gfx.fx.animateFill(_431);},_getAnimateTransform:function(_432,_433,anim){var _434,_435,step;if(anim){if(anim.action.status()=="stopped"){step=1;}else{step=anim.action._getStep();}anim.action.stop(true);}else{anim=this.anim[_432.id];}if(_433.type=="onmouseover"){if(!anim.matrix){var _436=_432.baseShapes[0].getTransform();if(_436){anim.matrix=_436;}}_434=step!=undefined?this.scale*(1-step)+step:1;_435=this.scale;}else{_434=step!=undefined?step*this.scale+1-step:this.scale;_435=1;}var _437=_432.map.engine.getFactory(_432.type),_438=_432.getBbox(),_439=_437.getX((_438[0]+_438[2])/2),_43a=_437.getY((_438[1]+_438[3])/2);var _43b={shape:_432.baseShapes[0],duration:this.duration,easing:this.easing};if(_432.getGeometry().type=="Point"){_43b.transform=[anim.matrix,{name:"scale",start:[_434],end:[_435]}];}else{_43b.transform=[{name:"scaleAt",start:[_434,_439,_43a],end:[_435,_439,_43a]}];}return dojox.gfx.fx.animateTransform(_43b);},_getAnimateStroke:function(_43c,_43d,anim,_43e){this.scale=5;var _43f,_440,step;if(anim){if(anim.action.status()=="stopped"){step=1;}else{step=anim.action._getStep();}anim.action.stop(true);}else{anim=this.anim[_43c.id];}if(_43d.type=="onmouseover"){_43f=step!=undefined?this.scale*(1-step)+step:1;_440=this.scale;}else{_43f=step!=undefined?step*this.scale+1-step:this.scale;_440=1;}if(_43d.type=="onmouseover"&&!anim.width){anim.width=[];dojo.forEach(_43c.baseShapes,function(_441,i){var _442=_441.getStroke();if(_442&&_442.width){anim.width[i]=_442.width;}});}dojo.forEach(_43c.baseShapes,function(_443,i){var _444={shape:_443,duration:this.duration,easing:this.easing,width:{start:_43f*anim.width[i],end:_440*anim.width[i]}};_43e.push(dojox.gfx.fx.animateStroke(_444));},this);}});})();}